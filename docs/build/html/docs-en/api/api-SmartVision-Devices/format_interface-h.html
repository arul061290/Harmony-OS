
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>format_interface.h &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="format-interface-h">
<h1>format_interface.h<a class="headerlink" href="#format-interface-h" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><strong>Related Modules:</strong></p>
<p><a class="reference external" href="format.md">Format</a></p>
<p><strong>Description:</strong></p>
<p>Declares format-related APIs.</p>
<p>For example, you use the functions provided in this file to define
custom data types and to initialize, create, destroy the muxer and
demuxer, and set their parameters. Also, you can read demuxer data
frames, select demuxer tracks, add muxer tracks, and write data frames
into a container.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1538455717093525"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1242387238093525"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1045218669093525"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row263925225093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p135038706093525"><p>FormatInit (void)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p801704731093525"><p>void</p>
</p><p id="p1311348807093525"><p>Initializes the format.</p>
</p></td></tr><tr id="row136008339093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p406548937093525"><p>FormatDeInit (void)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2025731462093525"><p>void</p>
</p><p id="p1744658667093525"><p>Deinitializes the format.</p>
</p></td></tr><tr id="row1139696505093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1484244721093525"><p>FormatDemuxerCreate (const FormatSource *source, void **handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2131066849093525"><p>int32_t</p>
</p><p id="p894103992093525"><p>Creates a demuxer component and returns its context handle.</p>
</p></td></tr><tr id="row1340019463093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1332230191093525"><p>FormatDemuxerSetParameter (const void <em>handle, int32_t trackId, const
ParameterItem</em>metaData, int32_t metaDataCnt)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p669796469093525"><p>int32_t</p>
</p><p id="p630887961093525"><p>Sets demuxer attributes.</p>
</p></td></tr><tr id="row1041317145093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1496463729093525"><p>FormatDemuxerGetParameter (const void <em>handle, int32_t trackId,
ParameterItem</em>metaData)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1631422337093525"><p>int32_t</p>
</p><p id="p1784435051093525"><p>Obtains demuxer attributes.</p>
</p></td></tr><tr id="row1333595594093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1789398042093525"><p>FormatDemuxerSetCallBack (void <em>handle, const FormatCallback</em>callBack)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1242005970093525"><p>int32_t</p>
</p><p id="p2099380810093525"><p>Sets a callback for the demuxer.</p>
</p></td></tr><tr id="row1968765507093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1390730323093525"><p>FormatDemuxerSetBufferConfig (void <em>handle, const
FormatBufferSetting</em>setting)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1298977598093525"><p>int32_t</p>
</p><p id="p310316681093525"><p>Sets buffer information for the demuxer.</p>
</p></td></tr><tr id="row686836975093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p224933785093525"><p>FormatDemuxerGetBufferConfig (const void <em>handle,
FormatBufferSetting</em>setting)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2054962615093525"><p>int32_t</p>
</p><p id="p1037553586093525"><p>Obtains the buffer information of the demuxer.</p>
</p></td></tr><tr id="row783075667093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p435615739093525"><p>FormatDemuxerPrepare (void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1811188556093525"><p>int32_t</p>
</p><p id="p808165404093525"><p>Makes preparations for the demuxer.</p>
</p></td></tr><tr id="row2044150739093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p578784752093525"><p>FormatDemuxerGetFileInfo (void <em>handle, FileInfo</em>info)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p67685368093525"><p>int32_t</p>
</p><p id="p1429334524093525"><p>Obtains the attributes of a media file.</p>
</p></td></tr><tr id="row846509491093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1013272868093525"><p>FormatDemuxerSelectTrack (const void *handle, int32_t programId,
int32_t trackId)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1716686996093525"><p>int32_t</p>
</p><p id="p2130643253093525"><p>Selects a specified media track.</p>
</p></td></tr><tr id="row2106581450093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p636204752093525"><p>FormatDemuxerUnselectTrack (const void *handle, int32_t programId,
int32_t trackId)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p459149720093525"><p>int32_t</p>
</p><p id="p12979640093525"><p>Unselects a specified media track from which the demuxer reads data
frames.</p>
</p></td></tr><tr id="row1442754661093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p160821416093525"><p>FormatDemuxerStart (void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2075535456093525"><p>int32_t</p>
</p><p id="p1434346919093525"><p>Starts the demuxer.</p>
</p></td></tr><tr id="row1469784849093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1248365814093525"><p>FormatDemuxerGetSelectedTrack (const void <em>handle, int32_t</em>programId,
int32_t trackId[], int32_t *nums)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1250513482093525"><p>int32_t</p>
</p><p id="p1118682269093525"><p>Obtains the ID of the media track selected by the demuxer for output.</p>
</p></td></tr><tr id="row282486069093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1948155308093525"><p>FormatDemuxerReadFrame (const void <em>handle, FormatFrame</em>frame, int32_t
timeOutMs)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1364772757093525"><p>int32_t</p>
</p><p id="p1949527375093525"><p>Reads data frames.</p>
</p></td></tr><tr id="row216778346093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1775033422093525"><p>FormatDemuxerFreeFrame (void <em>handle, FormatFrame</em>frame)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p942919539093525"><p>int32_t</p>
</p><p id="p1237371044093525"><p>Frees data frames.</p>
</p></td></tr><tr id="row1327297166093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2086028677093525"><p>FormatDemuxerSeek (const void *handle, int32_t streamIndex, int64_t
timeStampUs, FormatSeekMode mode)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1891025701093525"><p>int32_t</p>
</p><p id="p870706021093525"><p>Seeks for a specified position for the demuxer.</p>
</p></td></tr><tr id="row1959908101093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1498624057093525"><p>FormatDemuxerStop (void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2128677001093525"><p>int32_t</p>
</p><p id="p167453307093525"><p>Stops the demuxer from working.</p>
</p></td></tr><tr id="row446141999093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p775663381093525"><p>FormatDemuxerDestory (void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p707157808093525"><p>int32_t</p>
</p><p id="p1501171793093525"><p>Destroys demuxer resources.</p>
</p></td></tr><tr id="row503605676093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1441820349093525"><p>FormatMuxerCreate (void **handle, FormatOutputConfig *outputConfig)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p641496722093525"><p>int32_t</p>
</p><p id="p520862712093525"><p>Creates a muxer and returns its context handle.</p>
</p></td></tr><tr id="row1283754400093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p749722125093525"><p>FormatMuxerDestory (const void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p653976905093525"><p>int32_t</p>
</p><p id="p1974355959093525"><p>Destroys a muxer and release its resources created by calling
FormatMuxerCreate.</p>
</p></td></tr><tr id="row942239204093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p544008354093525"><p>FormatMuxerAddTrack (void <em>handle, const TrackSource</em>trackSource)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2080637403093525"><p>int32_t</p>
</p><p id="p2064277535093525"><p>Adds a media track source for the muxer. For details about track
sources, see TrackSource.</p>
</p></td></tr><tr id="row2021749016093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1100523117093525"><p>FormatMuxerSetCallBack (void <em>handle, const FormatCallback</em>callBack)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p102646293093525"><p>int32_t</p>
</p><p id="p648745064093525"><p>Sets a callback for the muxer. For details about the callback, see
FormatCallback.</p>
</p></td></tr><tr id="row1173189058093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p539694840093525"><p>FormatMuxerSetOrientation (void *handle, int degrees)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1552017061093525"><p>int32_t</p>
</p><p id="p1991023384093525"><p>Sets the orientation of the video track for the muxer.</p>
</p></td></tr><tr id="row1563625249093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p379115392093525"><p>FormatMuxerSetLocation (const void *handle, int latitude, int
longitude)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1244292331093525"><p>int32_t</p>
</p><p id="p1077359986093525"><p>Sets the geographical information for the output file of the muxer.</p>
</p></td></tr><tr id="row236020162093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p410001718093525"><p>FormatMuxerSetMaxFileSize (void *handle, int64_t bytes)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p730765350093525"><p>int32_t</p>
</p><p id="p858959435093525"><p>Sets the maximum size (in bytes) for the output file of the muxer.</p>
</p></td></tr><tr id="row1736560375093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2067206325093525"><p>FormatMuxerSetMaxFileDuration (void *handle, int64_t durationUs)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1580650549093525"><p>int32_t</p>
</p><p id="p1782647218093525"><p>Sets the maximum duration (in seconds) for the output file.</p>
</p></td></tr><tr id="row107240351093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1416329148093525"><p>FormatMuxerSetFileSplitDuration (const void *handle, ManualSplitType
type, int64_t timestampUs, uint32_t durationUs)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1442376136093525"><p>int32_t</p>
</p><p id="p859237519093525"><p>Manually splits a file.</p>
</p></td></tr><tr id="row1531743155093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1018559465093525"><p>FormatMuxerStart (void *handle)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1979208818093525"><p>int32_t</p>
</p><p id="p2140955923093525"><p>Starts the muxer.</p>
</p></td></tr><tr id="row429198830093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p914879852093525"><p>FormatMuxerWriteFrame (const void <em>handle, const
FormatFrame</em>frameData)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1925850954093525"><p>int32_t</p>
</p><p id="p2112153899093525"><p>Writes data frames into the muxer.</p>
</p></td></tr><tr id="row2130525149093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1882564330093525"><p>FormatMuxerSetNextOutputFile (const void *handle, int32_t fd)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1021835675093525"><p>int32_t</p>
</p><p id="p622054733093525"><p>Sets the descriptor for the next output file.</p>
</p></td></tr><tr id="row1019192794093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1310665170093525"><p>FormatMuxerStop (const void *handle, bool block)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p508182387093525"><p>int32_t</p>
</p><p id="p1527667267093525"><p>Stops the muxer that was started by calling FormatMuxerStart.</p>
</p></td></tr><tr id="row339413666093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1875493085093525"><p>FormatMuxerSetParameter (void <em>handle, int32_t trackId, const
ParameterItem</em>item, int32_t itemNum)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1025648227093525"><p>int32_t</p>
</p><p id="p1500975867093525"><p>Sets muxer attributes.</p>
</p></td></tr><tr id="row1474673960093525"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1027363824093525"><p>FormatMuxerGetParameter (void <em>handle, int32_t trackId,
ParameterItem</em>item, int32_t itemNum)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1628994625093525"><p>int32_t</p>
</p><p id="p682568633093525"><p>Obtains muxer attributes.</p>
</p></td></tr></tbody></table></div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/docs-en/api/api-SmartVision-Devices/format_interface-h.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>