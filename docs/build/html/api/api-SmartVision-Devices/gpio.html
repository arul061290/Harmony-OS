
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPIO &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="gpio">
<h1>GPIO<a class="headerlink" href="#gpio" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Provides standard general-purpose input/output (GPIO) interfaces for
driver development.</p>
<p>You can use this module to perform operations on a GPIO pin, including
setting the input/output direction, reading/writing the level value, and
setting the interrupt service routine (ISR) function.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1245138422093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p823074282093521"><p>File Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p311341634093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1848302549093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1794678483093521"><p>gpio_if.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p577784313093521"><p>Declares the standard GPIO interface functions.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1143058692093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p599757463093521"><p>Typedef Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p419103887093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row262182395093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1883176520093521"><p>GpioIrqFunc) (uint16_t gpio, void *data)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p765234853093521"><p>typedef int32_t(*</p>
</p><p id="p768650203093521"><p>Defines the function type of a GPIO interrupt service routine (ISR).</p>
</p></td></tr></tbody></table></div>
<div class="section" id="enumerations">
<h2>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1369620546093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p187383255093521"><p>Enumeration Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p48217617093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row753788631093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1150445100093521"><p>GpioValue { GPIO_VAL_LOW = 0, GPIO_VAL_HIGH = 1, GPIO_VAL_ERR }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1988176013093521"><p>Enumerates GPIO level values.</p>
</p></td></tr><tr id="row605476899093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p133078902093521"><p>GpioDirType { GPIO_DIR_IN = 0, GPIO_DIR_OUT = 1, GPIO_DIR_ERR }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1288369553093521"><p>Enumerates GPIO directions.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row57001009093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1447281977093521"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1807098605093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1180648336093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p494162663093521"><p>GpioRead (uint16_t gpio, uint16_t *val)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1400430069093521"><p>int32_t</p>
</p><p id="p1033881069093521"><p>Reads the level value of a GPIO pin.</p>
</p></td></tr><tr id="row103140372093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1456008398093521"><p>GpioWrite (uint16_t gpio, uint16_t val)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1669643728093521"><p>int32_t</p>
</p><p id="p1845105568093521"><p>Writes the level value for a GPIO pin.</p>
</p></td></tr><tr id="row1618274893093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p252147887093521"><p>GpioSetDir (uint16_t gpio, uint16_t dir)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p298341460093521"><p>int32_t</p>
</p><p id="p1722470912093521"><p>Sets the input/output direction for a GPIO pin.</p>
</p></td></tr><tr id="row1593651887093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1203320369093521"><p>GpioGetDir (uint16_t gpio, uint16_t *dir)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p347853726093521"><p>int32_t</p>
</p><p id="p727539354093521"><p>Obtains the input/output direction of a GPIO pin.</p>
</p></td></tr><tr id="row501003093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p643668811093521"><p>GpioSetIrq (uint16_t gpio, uint16_t mode, GpioIrqFunc func, void *arg)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p257597347093521"><p>int32_t</p>
</p><p id="p964853529093521"><p>Sets the ISR function for a GPIO pin.</p>
</p></td></tr><tr id="row244405023093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1220780265093521"><p>GpioUnSetIrq (uint16_t gpio)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1323823995093521"><p>int32_t</p>
</p><p id="p554571449093521"><p>Cancels the setting of the ISR function for a GPIO pin.</p>
</p></td></tr><tr id="row445547268093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1367071759093521"><p>GpioEnableIrq (uint16_t gpio)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1326687919093521"><p>int32_t</p>
</p><p id="p2065870055093521"><p>Enables a GPIO pin interrupt.</p>
</p></td></tr><tr id="row458603231093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p431617222093521"><p>GpioDisableIrq (uint16_t gpio)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1052755397093521"><p>int32_t</p>
</p><p id="p707990547093521"><p>Disables a GPIO pin interrupt.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="details">
<h2><strong>Details</strong><a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="typedef-documentation">
<h2><strong>Typedef Documentation</strong><a class="headerlink" href="#typedef-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gpioirqfunc">
<h2>GpioIrqFunc<a class="headerlink" href="#gpioirqfunc" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">int32_t</span><span class="p">(</span><span class="o">*</span> <span class="n">GpioIrqFunc</span><span class="p">)</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the function type of a GPIO interrupt service routine (ISR).</p>
<p>This function is used when you call
<a class="reference external" href="gpio.md#ga6ea5d16b8d73cb74e36d367f05cb7f6e">GpioSetIrq</a> to register
the ISR for a GPIO pin.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1327302536093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1153871651093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p619433690093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1094639927093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO number of the ISR.</p>
</td></tr><tr id="row1772374551093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>data</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the private data passed to this ISR (The data
is specified when the ISR is registered).</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the ISR function type is successfully defined; returns
a negative value otherwise.</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="gpio.md#ga6ea5d16b8d73cb74e36d367f05cb7f6e">GpioSetIrq</a></p>
</div>
<div class="section" id="enumeration-type-documentation">
<h2><strong>Enumeration Type Documentation</strong><a class="headerlink" href="#enumeration-type-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gpiodirtype">
<h2>GpioDirType<a class="headerlink" href="#gpiodirtype" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">GpioDirType</span><span class="p">](</span><span class="n">gpio</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga71f27d3ba7ca04d9448199fca38ae19d)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates GPIO directions.</p>
<table><thead align="left"><tr id="row1583108882093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1541399074093521"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p111504694093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1591255621093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_DIR_IN</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1138917370093521"><p>Input direction</p>
</p></td></tr><tr id="row1081612296093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_DIR_OUT</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p601319759093521"><p>Output direction</p>
</p></td></tr><tr id="row676415948093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_DIR_ERR</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p279015606093521"><p>Invalid direction</p>
</p></td></tr></tbody></table></div>
<div class="section" id="gpiovalue">
<h2>GpioValue<a class="headerlink" href="#gpiovalue" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">GpioValue</span><span class="p">](</span><span class="n">gpio</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga6a25a3efddf2301c7b01a7f0af44fb11)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates GPIO level values.</p>
<table><thead align="left"><tr id="row1938519169093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1910660425093521"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1744689228093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row370714775093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_VAL_LOW</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p245529945093521"><p>Low GPIO level</p>
</p></td></tr><tr id="row547466174093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_VAL_HIGH</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1568412233093521"><p>High GPIO level</p>
</p></td></tr><tr id="row1183212813093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>GPIO_VAL_ERR</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1266798957093521"><p>Invalid GPIO level</p>
</p></td></tr></tbody></table></div>
<div class="section" id="function-documentation">
<h2><strong>Function Documentation</strong><a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gpiodisableirq">
<h2>GpioDisableIrq()<a class="headerlink" href="#gpiodisableirq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioDisableIrq</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Disables a GPIO pin interrupt.</p>
<p>You can call this function when you need to temporarily mask a GPIO pin
interrupt or cancel an ISR function.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1276004179093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p462184014093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1601797964093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1339402845093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin interrupt is successfully disabled;
returns a negative value otherwise.</p>
</div>
<div class="section" id="gpioenableirq">
<h2>GpioEnableIrq()<a class="headerlink" href="#gpioenableirq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioEnableIrq</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enables a GPIO pin interrupt.</p>
<p>Before enabling the interrupt, you must call
<a class="reference external" href="gpio.md#ga6ea5d16b8d73cb74e36d367f05cb7f6e">GpioSetIrq</a> to set the
ISR function for the GPIO pin.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row289366664093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p377669568093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1635473643093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row61648703093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin interrupt is successfully enabled; returns
a negative value otherwise.</p>
</div>
<div class="section" id="gpiogetdir">
<h2>GpioGetDir()<a class="headerlink" href="#gpiogetdir" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioGetDir</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="o">*</span> <span class="nb">dir</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the input/output direction of a GPIO pin.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1129437629093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p384666373093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p377670505093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row739218589093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr><tr id="row1604541400093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>dir</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the obtained input/output direction. For
details, see GpioDirType.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin direction is successfully obtained;
returns a negative value otherwise.</p>
</div>
<div class="section" id="gpioread">
<h2>GpioRead()<a class="headerlink" href="#gpioread" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioRead</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="o">*</span> <span class="n">val</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Reads the level value of a GPIO pin.</p>
<p>Before using this function, you need to call
<a class="reference external" href="gpio.md#ga5c628216d209fa76c69eca69856bc0ae">GpioSetDir</a> to set the
GPIO pin direction to input.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row853887646093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2017120339093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p689204345093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1463770376093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr><tr id="row331234839093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>val</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the read level value. For details, see
GpioValue.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin level value is successfully read; returns
a negative value otherwise.</p>
</div>
<div class="section" id="gpiosetdir">
<h2>GpioSetDir()<a class="headerlink" href="#gpiosetdir" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioSetDir</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="nb">dir</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sets the input/output direction for a GPIO pin.</p>
<p>Generally, you can set the direction to input when external level
signals need to be read, and set the direction to output when the level
signals need to be sent externally.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row2062285985093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p139920621093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1620208923093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row707746578093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr><tr id="row578188182093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>dir</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the direction to set. For details, see GpioDirType.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin direction is successfully set; returns a
negative value otherwise.</p>
</div>
<div class="section" id="gpiosetirq">
<h2>GpioSetIrq()<a class="headerlink" href="#gpiosetirq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioSetIrq</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="n">mode</span><span class="p">,</span> <span class="p">[</span><span class="n">GpioIrqFunc</span><span class="p">](</span><span class="n">gpio</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga8f3b7d0f0aaa1da8117781efe4b1670e) func, void * arg )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sets the ISR function for a GPIO pin.</p>
<p>Before using a GPIO pin as an interrupt, you must call this function to
set an ISR function for this GPIO pin, including the ISR parameters and
the interrupt trigger mode. After the setting is successful, you also
need to call
<a class="reference external" href="gpio.md#gafcf00796a949245d665e672ae0294aee">GpioEnableIrq</a> to enable
the interrupt, so that the ISR function can respond correctly.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1137417484093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2039967137093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p917812213093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row220698980093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr><tr id="row666233774093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>mode</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the interrupt trigger mode. For details, see
OSAL_IRQF_TRIGGER_RISING.</p>
</td></tr><tr id="row1087423234093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>func</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the ISR function to set, which is specified by GpioIrqFunc.</p>
</td></tr><tr id="row1619588608093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>arg</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the parameters passed to the ISR function.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the ISR function of the GPIO pin is successfully set;
returns a negative value otherwise.</p>
</div>
<div class="section" id="gpiounsetirq">
<h2>GpioUnSetIrq()<a class="headerlink" href="#gpiounsetirq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioUnSetIrq</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Cancels the setting of the ISR function for a GPIO pin.</p>
<p>If you do not need the GPIO pin as an interrupt, call this function to
cancel the ISR function set via
<a class="reference external" href="gpio.md#ga6ea5d16b8d73cb74e36d367f05cb7f6e">GpioSetIrq</a>. Since this
ISR function is no longer valid, you are advised to use
<a class="reference external" href="gpio.md#gafa01dc510f26d5aff102d72679920929">GpioDisableIrq</a> to
disable the GPIO pin interrupt.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1674409793093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1705141597093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p175379192093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row212976678093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the ISR function of the GPIO pin is successfully
cancelled; returns a negative value otherwise.</p>
</div>
<div class="section" id="gpiowrite">
<h2>GpioWrite()<a class="headerlink" href="#gpiowrite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">GpioWrite</span> <span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="n">val</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Writes the level value for a GPIO pin.</p>
<p>Before using this function, you need to call
<a class="reference external" href="gpio.md#ga5c628216d209fa76c69eca69856bc0ae">GpioSetDir</a> to set the
GPIO pin direction to output.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1069690891093521"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p495289818093521"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p53440548093521"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row2100556819093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>gpio</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the GPIO pin number.</p>
</td></tr><tr id="row717887841093521"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>val</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the level value to be written. For details, see GpioValue.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the GPIO pin level value is successfully written;
returns a negative value otherwise.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/api/api-SmartVision-Devices/gpio.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>