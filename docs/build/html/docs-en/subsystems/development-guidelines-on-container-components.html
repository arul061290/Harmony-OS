
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Development Guidelines on Container Components &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="development-guidelines-on-container-components">
<h1>Development Guidelines on Container Components<a class="headerlink" href="#development-guidelines-on-container-components" title="Permalink to this headline">¶</a></h1>
<p>Container components are capable of containing UI components and inherit
from <strong>UIViewGroup</strong>. Components that are commonly used and need to
contain child components are placed in the container class inheritance
structure. For example, you need to call the <strong>Add</strong> function to add
information such as time statistics and icons to <strong>UIAnalogClock</strong>.</p>
<p><strong>Figure 1</strong> Structure of a common container component</p>
<p><img alt="image1" src="../../_images/en-us_image_0000001052491833.png" /></p>
<p>The <strong>RootView</strong>, <strong>UIAbstractScroll</strong>, and <strong>UIPicker</strong> components
inherit from <strong>UIViewGroup</strong>, and the <strong>UIList</strong>, <strong>UIScrollView</strong>, and
<strong>UISwipeView</strong> components inherit from <strong>UIAbstractScroll</strong>.</p>
<div class="section" id="uiviewgroup">
<h2>UIViewGroup<a class="headerlink" href="#uiviewgroup" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="when-to-use">
<h2>When to Use<a class="headerlink" href="#when-to-use" title="Permalink to this headline">¶</a></h2>
<p><strong>UIViewGroup</strong> is a base class for container components. For example,
you can call the functions in this class to add, remove, and insert
container components. Also, you can call the <strong>Add</strong> function to add
child components for a container component. You need to set the position
information for child components in a common container component. The
position information is the coordinates relative to those of their
parent component. The following figure shows the component tree
structure.</p>
<p><strong>Figure 2</strong> Component tree structure</p>
<p><img alt="image2" src="../../_images/en-us_image_0000001054296737.png" /></p>
<p>As shown in the figure, the container component <strong>ViewGroup1</strong> and the
component <strong>View1</strong> are added to <strong>rootView</strong>, the component <strong>View2</strong>
and the container component <strong>ViewGroup2</strong> are added to <strong>ViewGroup1</strong>,
and then the component <strong>View3</strong> (as a sibling of <strong>View1</strong>) is also
added to <strong>ViewGroup1</strong>.</p>
<ul class="simple">
<li><p>Rendering: During rendering of a container component, you need to
call the <strong>OnDraw</strong> function on all its child components to update
them.</p></li>
<li><p>Coordinates: As the position information of child components is the
coordinates relative to those of their parent components, the system
calculates and displays the absolute coordinates of child components
during rendering.</p></li>
<li><p>Tree structure traversing: The <strong>UIViewGroup</strong> class provides the
functions below to traverse, search for, and manage the component
tree.</p></li>
</ul>
</div>
<div class="section" id="available-apis">
<h2>Available APIs<a class="headerlink" href="#available-apis" title="Permalink to this headline">¶</a></h2>
<p><strong>Table 1</strong> Available functions in ViewGroup</p>
<table><thead align="left"><tr id="row14957132342220"><th class="cellrowborder" valign="top" width="64.73%" id="mcps1.2.3.1.1"><p id="p3957182302217"><p>Function</p>
</p></th><th class="cellrowborder" valign="top" width="35.27%" id="mcps1.2.3.1.2"><p id="p1595742312219"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row14957123162218"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p89572023102216"><p>virtual void Add(UIView* view)</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p1495720236223"><p>Adds a child component.</p>
</p></td></tr><tr id="row895892310224"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p16958192315227"><p>virtual void Insert(UIView* prevView, UIView* insertView)</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p1958223152210"><p>Inserts a child component.</p>
</p></td></tr><tr id="row395862315229"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p16958142314223"><p>virtual void Remove(UIView* view)</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p2095862319224"><p>Removes a child component.</p>
</p></td></tr><tr id="row195832352212"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p3958152362219"><p>virtual void RemoveAll()</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p10958132318225"><p>Removes all child components.</p>
</p></td></tr><tr id="row895818232223"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p9958202322214"><p>virtual void GetTargetView(const Point&amp; point, UIView** last)</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p79584234227"><p>Obtains the target view.</p>
</p></td></tr><tr id="row795917235227"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p5958162362213"><p>virtual void MoveChildByOffset(int16_t x, int16_t y)</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p18958142315225"><p>Moves a child component by a specified offset.</p>
</p></td></tr><tr id="row1395912314227"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p209591223172217"><p>UIView* GetChildrenHead() const</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p895942313224"><p>Obtains the first child view in a view group.</p>
</p></td></tr><tr id="row7959192317226"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p89591423122213"><p>UIView* GetChildrenTail() const</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p17959132382217"><p>Obtains the last child view in a view group.</p>
</p></td></tr><tr id="row39591423142214"><td class="cellrowborder" valign="top" width="64.73%" headers="mcps1.2.3.1.1 "><p id="p6959623182212"><p>virtual UIView* GetChildById(const char* id) const override</p>
</p></td><td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.2.3.1.2 "><p id="p095932319222"><p>Obtains a child view based on its ID.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="how-to-develop">
<h2>How to Develop<a class="headerlink" href="#how-to-develop" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Create <strong>ULLabelButton</strong> instances and set their coordinates.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UILabelButton</span><span class="o">*</span> <span class="n">btn1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UILabelButton</span><span class="p">();</span>
<span class="n">btn1</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="n">btn1</span><span class="o">-&gt;</span><span class="n">SetText</span><span class="p">(</span><span class="s2">&quot;btn1&quot;</span><span class="p">);</span>

<span class="n">UILabelButton</span><span class="o">*</span> <span class="n">btn2</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UILabelButton</span><span class="p">();</span>
<span class="n">btn2</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="n">btn2</span><span class="o">-&gt;</span><span class="n">SetText</span><span class="p">(</span><span class="s2">&quot;btn2&quot;</span><span class="p">);</span>

<span class="n">UILabelButton</span><span class="o">*</span> <span class="n">btn3</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UILabelButton</span><span class="p">();</span>
<span class="n">btn3</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="n">btn3</span><span class="o">-&gt;</span><span class="n">SetText</span><span class="p">(</span><span class="s2">&quot;btn3&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Create a <strong>UIViewGroup</strong> instance and set its coordinates.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UIViewGroup</span><span class="o">*</span> <span class="n">group</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UIViewGroup</span><span class="p">();</span>
<span class="n">group</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Add the <strong>ULLabelButton</strong> instances to <strong>UIViewGroup</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">group</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">btn1</span><span class="p">);</span>
<span class="n">group</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">btn2</span><span class="p">);</span>
<span class="n">group</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">btn3</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>The following figure shows the effect of adding view instances to a
<strong>ViewGroup</strong>.</p>
<div class="line-block">
<div class="line"><strong>Figure 3</strong> Effect of adding view instances to a ViewGroup</div>
<div class="line"><img alt="image3" src="../../_images/effect-of-adding-view-instances-to-a-viewgroup.png" /></div>
</div>
</li>
</ol>
</div>
<div class="section" id="uiscrollview">
<h2>UIScrollView<a class="headerlink" href="#uiscrollview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="when-to-use-1">
<span id="id1"></span><h2>When to Use<a class="headerlink" href="#when-to-use-1" title="Permalink to this headline">¶</a></h2>
<p><strong>UIScrollView</strong> provides scrolling container components, which enable
child components to scroll upwards, downwards, leftwards, and rightwards
upon a touch event. This class also supports horizontal and vertical
cursor display.</p>
</div>
<div class="section" id="available-apis-1">
<span id="id2"></span><h2>Available APIs<a class="headerlink" href="#available-apis-1" title="Permalink to this headline">¶</a></h2>
<p><strong>Table 2</strong> Available functions in ScrollView</p>
<table><thead align="left"><tr id="row432202014249"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p432142092415"><p>Function</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p4323208245"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row13392032417"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p632182022417"><p>void ScrollBy(int16_t xDistance, int16_t yDistance)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p13333208242"><p>Scrolls a view.</p>
</p></td></tr><tr id="row1633132032415"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p1533320172413"><p>void SetScrollbarWidth(uint8_t width)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p173322015241"><p>Sets the scrollbar width.</p>
</p></td></tr><tr id="row033152012416"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p173382042417"><p>void SetHorizontalScrollState(bool state)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p103362042411"><p>Sets the horizontal scrolling state.</p>
</p></td></tr><tr id="row03362011242"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p333152032413"><p>bool GetHorizontalScrollState() const</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p9331220192418"><p>Checks whether horizontal scrolling is allowed.</p>
</p></td></tr><tr id="row1933520142413"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p1833520192410"><p>void SetVerticalScrollState(bool state)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p12331520132415"><p>Sets the vertical scrolling state.</p>
</p></td></tr><tr id="row183318200243"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p63317207248"><p>bool GetVerticalScrollState() const</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p1133020112417"><p>Checks whether vertical scrolling is allowed.</p>
</p></td></tr><tr id="row43462072418"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p193313203245"><p>void SetXScrollBarVisible(bool state)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p1833102017242"><p>Sets whether the x-axis scrollbar is visible.</p>
</p></td></tr><tr id="row1834720132417"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p8341620162410"><p>void SetYScrollBarVisible(bool state)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p163462092412"><p>Sets whether the y-axis scrollbar is visible.</p>
</p></td></tr><tr id="row13482082411"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p33415208244"><p>void RegisterScrollListener(OnScrollListener* scrollListener)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p934112002417"><p>Registers the scrolling callback class.</p>
</p></td></tr><tr id="row934192014242"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p18341020132410"><p>void RefreshScrollBar()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p234520192417"><p>Refreshes the scrollbar.</p>
</p></td></tr><tr id="row63422072418"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p8341620172411"><p>virtual void OnScrollStart() {}</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p193452052417"><p>Called when scrolling starts.</p>
</p></td></tr><tr id="row93432017244"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p143416203242"><p>virtual void OnScrollEnd() {}</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p534152018243"><p>Called when scrolling ends.</p>
</p></td></tr><tr id="row33532012247"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p1834172052419"><p>uint8_t GetScrollState() const</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p1346205242"><p>Obtains the scrolling state.</p>
</p></td></tr><tr id="row1535142022415"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p173532082413"><p>void SetScrollState(uint8_t state)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p1235102016242"><p>Sets the scrolling state.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="how-to-develop-1">
<span id="id3"></span><h2>How to Develop<a class="headerlink" href="#how-to-develop-1" title="Permalink to this headline">¶</a></h2>
<p>Add two buttons as child components and display horizontal and vertical
cursors.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrollView</span><span class="o">*</span> <span class="n">scroll</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UIScrollView</span><span class="p">();</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">SetStyle</span><span class="p">(</span><span class="n">STYLE_BACKGROUND_COLOR</span><span class="p">,</span> <span class="n">Color</span><span class="p">::</span><span class="n">Red</span><span class="p">()</span><span class="o">.</span><span class="n">full</span><span class="p">);</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">SetXScrollBarVisible</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">SetYScrollBarVisible</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="n">UILabelButton</span><span class="o">*</span> <span class="n">button1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UILabelButton</span><span class="p">();</span>
<span class="n">button1</span><span class="o">-&gt;</span><span class="n">SetText</span><span class="p">(</span><span class="s2">&quot;button1&quot;</span><span class="p">);</span>
<span class="n">button1</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
<span class="n">UILabelButton</span><span class="o">*</span> <span class="n">button2</span> <span class="o">=</span> <span class="n">new</span> <span class="n">UILabelButton</span><span class="p">();</span>
<span class="n">button2</span><span class="o">-&gt;</span><span class="n">SetText</span><span class="p">(</span><span class="s2">&quot;button2&quot;</span><span class="p">);</span>
<span class="n">button2</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">button1</span><span class="p">);</span>
<span class="n">scroll</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">button2</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><strong>Figure 4</strong> Scrolling effect in both horizontal and vertical
directions</div>
<div class="line"><img alt="image4" src="../../_images/scrolling-effect-in-both-horizontal-and-vertical-directions.gif" /></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs-en/subsystems/development-guidelines-on-container-components.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>