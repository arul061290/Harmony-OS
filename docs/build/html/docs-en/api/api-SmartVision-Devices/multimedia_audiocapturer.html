
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MultiMedia_AudioCapturer &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="multimedia-audiocapturer">
<h1>MultiMedia_AudioCapturer<a class="headerlink" href="#multimedia-audiocapturer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Declares APIs in the <strong>AudioCapturer</strong> class for audio capture.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row281774126093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p760854080093523"><p>File Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p345087334093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row199056235093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p832030572093523"><p>audio_capturer.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1474215149093523"><p>Provides the AudioCapturer class to implement operations related to
audio capture.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1716835199093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p654037235093523"><p>Data Structure Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1985363718093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row830400461093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1752177379093523"><p>OHOS::Audio::AudioCapturerInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1105439788093523"><p>Defines information about audio capture parameters, including the input
source, audio codec format,sampling rate (Hz), number of audio channels,
bit rate, and bit width.</p>
</p></td></tr><tr id="row827083412093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p605063776093523"><p>OHOS::Audio::Timestamp</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1267127982093523"><p>Represents timestamp information, including the frame position
information and high-resolution time source.</p>
</p></td></tr><tr id="row1206130843093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2040341407093523"><p>OHOS::Audio::AudioCapturer</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p443405516093523"><p>Provides functions for applications to implement audio capturing.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="enumerations">
<h2>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row626598362093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1398233995093523"><p>Enumeration Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p627791589093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row2097356607093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p16627530093523"><p>OHOS::Audio::Timestamp::Timebase : int32_t {
OHOS::Audio::Timestamp::Timebase::MONOTONIC = 0,
OHOS::Audio::Timestamp::Timebase::BOOTTIME = 1 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1108117676093523"><p>Enumerates the time base of this Timestamp. Different timing methods are
supported.</p>
</p></td></tr><tr id="row318899774093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p978432195093523"><p>OHOS::Audio::State : uint32_t { OHOS::Audio::PREPPARED,
OHOS::Audio::RECORDING, OHOS::Audio::STOPPED, OHOS::Audio::RELEASED }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1384403572093523"><p>Enumerates the recording states of the current device.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row832474254093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p741521712093523"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p767002807093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row697549128093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p105092068093523"><p>OHOS::Audio::AudioCapturer::GetMinFrameCount (int32_t sampleRate,
int32_t channelCount, AudioCodecFormat audioFormat, size_t &amp;frameCount)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1099112656093523"><p>static bool</p>
</p><p id="p587438504093523"><p>Obtains the minimum number of frames required in a specified condition,
in bytes per sample.</p>
</p></td></tr><tr id="row1849680075093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p185550020093523"><p>OHOS::Audio::AudioCapturer::GetFrameCount ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p281355757093523"><p>uint64_t</p>
</p><p id="p1488176989093523"><p>Obtains the number of frames required in the current condition, in bytes
per sample.</p>
</p></td></tr><tr id="row1380145864093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p410400896093523"><p>OHOS::Audio::AudioCapturer::SetCapturerInfo (const AudioCapturerInfo
info)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1453853380093523"><p>int32_t</p>
</p><p id="p1930998009093523"><p>Sets audio capture parameters.</p>
</p></td></tr><tr id="row2570519093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p318887357093523"><p>OHOS::Audio::AudioCapturer::GetCapturerInfo (AudioCapturerInfo &amp;info)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p373789560093523"><p>int32_t</p>
</p><p id="p929522756093523"><p>Obtains audio capture parameters.</p>
</p></td></tr><tr id="row2122078084093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p233934175093523"><p>OHOS::Audio::AudioCapturer::Start ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p423486984093523"><p>bool</p>
</p><p id="p675042620093523"><p>Starts audio recording.</p>
</p></td></tr><tr id="row246760640093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1078306546093523"><p>OHOS::Audio::AudioCapturer::Read (uint8_t *buffer, size_t userSize,
bool isBlockingRead)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p779980697093523"><p>int32_t</p>
</p><p id="p528029247093523"><p>Reads audio data.</p>
</p></td></tr><tr id="row399772575093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1706221505093523"><p>OHOS::Audio::AudioCapturer::GetStatus ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p881850132093523"><p>State</p>
</p><p id="p464111639093523"><p>Obtains the audio capture state.</p>
</p></td></tr><tr id="row528923932093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p922758720093523"><p>OHOS::Audio::AudioCapturer::GetAudioTime (Timestamp &amp;timestamp,
Timestamp::Timebase base)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p267444225093523"><p>bool</p>
</p><p id="p1500676067093523"><p>Obtains the timestamp.</p>
</p></td></tr><tr id="row1944334400093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2025601546093523"><p>OHOS::Audio::AudioCapturer::Stop ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2383751093523"><p>bool</p>
</p><p id="p1682546041093523"><p>Stops audio recording.</p>
</p></td></tr><tr id="row648029978093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p860836606093523"><p>OHOS::Audio::AudioCapturer::Release ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1792460741093523"><p>bool</p>
</p><p id="p1751164000093523"><p>Releases a local AudioCapturer object.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="details">
<h2><strong>Details</strong><a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="enumeration-type-documentation">
<h2><strong>Enumeration Type Documentation</strong><a class="headerlink" href="#enumeration-type-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="state">
<h2>State<a class="headerlink" href="#state" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">State</span><span class="p">](</span><span class="n">multimedia_audiocapturer</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga3d8d6798a2346e57e241d16da673d508) : uint32_t</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates the recording states of the current device.</p>
<table><thead align="left"><tr id="row1555772384093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2018640151093523"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p266795546093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1783391805093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PREPPARED</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p831794065093523"><p>Prepared</p>
</p></td></tr><tr id="row396975875093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>RECORDING</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1032019183093523"><p>Recording</p>
</p></td></tr><tr id="row1571220907093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>STOPPED</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1762684314093523"><p>Stopped</p>
</p></td></tr><tr id="row762332383093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>RELEASED</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2088942821093523"><p>Released</p>
</p></td></tr></tbody></table></div>
<div class="section" id="timebase">
<h2>Timebase<a class="headerlink" href="#timebase" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">Timestamp</span><span class="p">::</span><span class="n">Timebase</span><span class="p">](</span><span class="n">multimedia_audiocapturer</span><span class="o">.</span><span class="n">md</span><span class="c1">#gacdafb362a7da91799fa96163bca2a619) : int32_t</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates the time base of this
<a class="reference external" href="ohos-audio-timestamp.md">Timestamp</a>. Different timing methods are
supported.</p>
<table><thead align="left"><tr id="row452738220093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1077304416093523"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p57268637093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row413882644093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>MONOTONIC</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2043101740093523"><p>Monotonically increasing time, excluding the system sleep time</p>
</p></td></tr><tr id="row619950405093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BOOTTIME</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p672856329093523"><p>Monotonically increasing time, including the system sleep time</p>
</p></td></tr></tbody></table></div>
<div class="section" id="function-documentation">
<h2><strong>Function Documentation</strong><a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="getaudiotime">
<h2>GetAudioTime()<a class="headerlink" href="#getaudiotime" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">GetAudioTime</span> <span class="p">([</span><span class="n">Timestamp</span><span class="p">](</span><span class="n">ohos</span><span class="o">-</span><span class="n">audio</span><span class="o">-</span><span class="n">timestamp</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">timestamp</span><span class="p">,</span> <span class="p">[</span><span class="n">Timestamp</span><span class="p">::</span><span class="n">Timebase</span><span class="p">](</span><span class="n">multimedia_audiocapturer</span><span class="o">.</span><span class="n">md</span><span class="c1">#gacdafb362a7da91799fa96163bca2a619) base )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the timestamp.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row59864883093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p275390714093523"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1323865753093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row21396200093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>timestamp</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates a Timestamp instance reference provided by the caller.</p>
</td></tr><tr id="row431460639093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>base</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the time base, which can be Timestamp.Timebase.BOOTTIME or
Timestamp.Timebase.MONOTONIC.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>true</strong> if the timestamp is successfully obtained; returns
<strong>false</strong> otherwise.</p>
</div>
<div class="section" id="getcapturerinfo">
<h2>GetCapturerInfo()<a class="headerlink" href="#getcapturerinfo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">GetCapturerInfo</span> <span class="p">([</span><span class="n">AudioCapturerInfo</span><span class="p">](</span><span class="n">ohos</span><span class="o">-</span><span class="n">audio</span><span class="o">-</span><span class="n">audiocapturerinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">info</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains audio capture parameters.</p>
<p>This function can be called after
<a class="reference external" href="multimedia_audiocapturer.md#gae2cf055c840ece71e22cb64c98c68a19">SetCapturerInfo</a>
is successful.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1251500454093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1520900266093523"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1145789336093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1230004267093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>info</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates information about audio capture parameters. For details, see
AudioCapturerInfo.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>SUCCESS</strong> if the parameter information is successfully
obtained; returns an error code defined in
<a class="reference external" href="media_errors-h.md">media_errors.h</a> otherwise.</p>
</div>
<div class="section" id="getframecount">
<h2>GetFrameCount()<a class="headerlink" href="#getframecount" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint64_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">GetFrameCount</span> <span class="p">()</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the number of frames required in the current condition, in bytes
per sample.</p>
<p><strong>Returns:</strong></p>
<p>Returns the number of frames (in bytes per sample) if the operation is
successful; returns <strong>-1</strong> if an exception occurs.</p>
</div>
<div class="section" id="getminframecount">
<h2>GetMinFrameCount()<a class="headerlink" href="#getminframecount" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="nb">bool</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">GetMinFrameCount</span> <span class="p">(</span><span class="n">int32_t</span> <span class="n">sampleRate</span><span class="p">,</span> <span class="n">int32_t</span> <span class="n">channelCount</span><span class="p">,</span> <span class="p">[</span><span class="n">AudioCodecFormat</span><span class="p">](</span><span class="n">multimedia_mediacommon</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaa4ea6f314644ed287e0704be26c768b7) audioFormat, size_t &amp; frameCount )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the minimum number of frames required in a specified condition,
in bytes per sample.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1818033582093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p185118153093523"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p678619483093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1016102165093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sampleRate</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the audio sampling rate, in Hz.</p>
</td></tr><tr id="row1302503898093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>channelCount</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the number of audio recording channels.</p>
</td></tr><tr id="row1233161577093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>audioFormat</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the audio data format.</p>
</td></tr><tr id="row38715845093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>frameCount</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the minimum number of frames, in bytes per sample.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>true</strong> if the minimum number of frames is successfully
obtained; returns <strong>false</strong> otherwise.</p>
</div>
<div class="section" id="getstatus">
<h2>GetStatus()<a class="headerlink" href="#getstatus" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">State</span><span class="p">](</span><span class="n">multimedia_audiocapturer</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga3d8d6798a2346e57e241d16da673d508) OHOS::Audio::AudioCapturer::GetStatus ()</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the audio capture state.</p>
<p><strong>Returns:</strong></p>
<p>Returns the audio capture state defined in
<a class="reference external" href="abilitykit.md#ga5d74787dedbc4e11c1ab15bf487e61f8">State</a>.</p>
</div>
<div class="section" id="read">
<h2>Read()<a class="headerlink" href="#read" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">Read</span> <span class="p">(</span><span class="n">uint8_t</span> <span class="o">*</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">userSize</span><span class="p">,</span> <span class="nb">bool</span> <span class="n">isBlockingRead</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Reads audio data.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1929616111093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p421312409093523"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p611743463093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1859611739093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>buffer</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the buffer into which the audio data is to be
written.</p>
</td></tr><tr id="row1484100718093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>userSize</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the size of the buffer into which the audio data is to be
written, in bytes. userSize &gt;= frameCount * channelCount *
BytesPerSample must evaluate to true. You can call GetFrameCount to
obtain the frameCount value.</p>
</td></tr><tr id="row613347253093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>isBlockingRead</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Specifies whether data reading will be blocked.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the size of the audio data read from the device. The value
ranges from <strong>0</strong> to <strong>userSize</strong>. If the reading fails, one of the
following error codes is returned: <strong>ERR_INVALID_PARAM</strong>: The input
parameter is incorrect. <strong>ERR_ILLEGAL_STATE</strong>: The
<a class="reference external" href="ohos-audio-audiocapturer.md">AudioCapturer</a> instance is not
initialized. <strong>ERR_SOURCE_NOT_SET</strong>: The state of hardware device
instance is abnormal.</p>
</div>
<div class="section" id="release">
<h2>Release()<a class="headerlink" href="#release" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">Release</span> <span class="p">()</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Releases a local <a class="reference external" href="ohos-audio-audiocapturer.md">AudioCapturer</a> object.</p>
<p><strong>Returns:</strong></p>
<p>Returns <strong>true</strong> if the object is successfully released; returns
<strong>false</strong> otherwise.</p>
</div>
<div class="section" id="setcapturerinfo">
<h2>SetCapturerInfo()<a class="headerlink" href="#setcapturerinfo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">SetCapturerInfo</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">AudioCapturerInfo</span><span class="p">](</span><span class="n">ohos</span><span class="o">-</span><span class="n">audio</span><span class="o">-</span><span class="n">audiocapturerinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="n">info</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sets audio capture parameters.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row540741535093523"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1435211864093523"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p785800262093523"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row585017297093523"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>info</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates information about audio capture parameters to set. For
details, see AudioCapturerInfo.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>SUCCESS</strong> if the setting is successful; returns an error code
defined in <a class="reference external" href="media_errors-h.md">media_errors.h</a> otherwise.</p>
</div>
<div class="section" id="start">
<h2>Start()<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">Start</span> <span class="p">()</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Starts audio recording.</p>
<p><strong>Returns:</strong></p>
<p>Returns <strong>true</strong> if the recording is successfully started; returns
<strong>false</strong> otherwise.</p>
</div>
<div class="section" id="stop">
<h2>Stop()<a class="headerlink" href="#stop" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturer</span><span class="p">::</span><span class="n">Stop</span> <span class="p">()</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Stops audio recording.</p>
<p><strong>Returns:</strong></p>
<p>Returns <strong>true</strong> if the recording is successfully stopped; returns
<strong>false</strong> otherwise.</p>
</div>
<div class="section" id="variable-documentation">
<h2><strong>Variable Documentation</strong><a class="headerlink" href="#variable-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="audioformat">
<h2>audioFormat<a class="headerlink" href="#audioformat" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">AudioCodecFormat</span><span class="p">](</span><span class="n">multimedia_mediacommon</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaa4ea6f314644ed287e0704be26c768b7) OHOS::Audio::AudioCapturerInfo::audioFormat = [AUDIO_DEFAULT](multimedia_mediacommon.md#ggaa4ea6f314644ed287e0704be26c768b7a4c4c5829b054bc468274700c56d65546)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Audio codec format</p>
</div>
<div class="section" id="bitrate">
<h2>bitRate<a class="headerlink" href="#bitrate" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturerInfo</span><span class="p">::</span><span class="n">bitRate</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Bit rate</p>
</div>
<div class="section" id="bitwidth">
<h2>bitWidth<a class="headerlink" href="#bitwidth" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">AudioBitWidth</span><span class="p">](</span><span class="n">multimedia_mediacommon</span><span class="o">.</span><span class="n">md</span><span class="c1">#gae3e35ee2a2222a667fdebbc5b793ca7c) OHOS::Audio::AudioCapturerInfo::bitWidth = [BIT_WIDTH_16](multimedia_mediacommon.md#ggae3e35ee2a2222a667fdebbc5b793ca7ca036f0b45813f96cb6b0f90de1722a780)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Bit width</p>
</div>
<div class="section" id="channelcount">
<h2>channelCount<a class="headerlink" href="#channelcount" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturerInfo</span><span class="p">::</span><span class="n">channelCount</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Number of audio channels</p>
</div>
<div class="section" id="inputsource">
<h2>inputSource<a class="headerlink" href="#inputsource" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">AudioSourceType</span><span class="p">](</span><span class="n">multimedia_mediacommon</span><span class="o">.</span><span class="n">md</span><span class="c1">#gadc3158e093b995ca7b9b6aa32388ccdd) OHOS::Audio::AudioCapturerInfo::inputSource = [AUDIO_MIC](multimedia_mediacommon.md#ggadc3158e093b995ca7b9b6aa32388ccdda732604b3a24d137429e2b83b31849bce)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Audio source type</p>
</div>
<div class="section" id="samplerate">
<h2>sampleRate<a class="headerlink" href="#samplerate" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">OHOS</span><span class="p">::</span><span class="n">Audio</span><span class="p">::</span><span class="n">AudioCapturerInfo</span><span class="p">::</span><span class="n">sampleRate</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sampling rate</p>
</div>
<div class="section" id="streamtype">
<h2>streamType<a class="headerlink" href="#streamtype" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">AudioStreamType</span><span class="p">](</span><span class="n">multimedia_mediacommon</span><span class="o">.</span><span class="n">md</span><span class="c1">#gae7077e4211e48131ae544adb20fc494a) OHOS::Audio::AudioCapturerInfo::streamType = [TYPE_MEDIA](multimedia_mediacommon.md#ggae7077e4211e48131ae544adb20fc494aa431e273affaa22e18ec5a2a548b70e90)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Audio stream type</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/docs-en/api/api-SmartVision-Devices/multimedia_audiocapturer.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>