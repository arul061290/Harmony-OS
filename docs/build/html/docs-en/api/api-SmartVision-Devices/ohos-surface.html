
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OHOS::Surface &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="ohos-surface">
<h1>OHOS::Surface<a class="headerlink" href="#ohos-surface" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><strong>Related Modules:</strong></p>
<p><a class="reference external" href="surface.md">Surface</a></p>
<p><strong>Description:</strong></p>
<p>Defines the consumer listener used to notify consumers when the surface
status is updated.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="public-member-functions">
<h2>Public Member Functions<a class="headerlink" href="#public-member-functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1280600468093532"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1748432273093532"><p>Public Member Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1064125150093532"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row827614414093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1096926082093532"><p>~Surface ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p907310922093532"><p>virtual</p>
</p><p id="p1027081944093532"><p>A destructor used to delete the Surface instance.</p>
</p></td></tr><tr id="row2065484453093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p402861575093532"><p>SetQueueSize (uint8_t queueSize)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1756973790093532"><p>virtual void</p>
</p><p id="p1917452569093532"><p>Sets the number of buffers that can be allocated to the surface. The
default value is 1. The value range is [1, 10].</p>
</p></td></tr><tr id="row1475535901093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1823907836093532"><p>GetQueueSize ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1196589717093532"><p>virtual uint8_t</p>
</p><p id="p2099457309093532"><p>Obtains the number of surface buffers that can be allocated to the
surface. The default value is 1. The value range is [1, 10].</p>
</p></td></tr><tr id="row1104523091093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p627873004093532"><p>SetWidthAndHeight (uint32_t width, uint32_t height)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1751682793093532"><p>virtual void</p>
</p><p id="p295747727093532"><p>Sets the width and height of the surface for calculating its stride and
size. The default value range of width and height is (0,7680].</p>
</p></td></tr><tr id="row1972118124093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p15953281093532"><p>GetWidth ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1403439039093532"><p>virtual uint32_t</p>
</p><p id="p829863673093532"><p>Obtains the width of the surface.</p>
</p></td></tr><tr id="row772888555093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1858004803093532"><p>GetHeight ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p637279395093532"><p>virtual uint32_t</p>
</p><p id="p725589085093532"><p>Obtains the height of the surface.</p>
</p></td></tr><tr id="row298527665093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1000069953093532"><p>SetFormat (uint32_t format)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1670462361093532"><p>virtual void</p>
</p><p id="p1252363514093532"><p>Sets the pixel format of the surface. For details, see ImageFormat. The
default pixel format is IMAGE_PIXEL_FORMAT_RGB565.</p>
</p></td></tr><tr id="row644863730093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1305396361093532"><p>GetFormat ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1218441689093532"><p>virtual uint32_t</p>
</p><p id="p7671322093532"><p>Obtains the pixel format of the surface. For details, see ImageFormat.
The default pixel format is IMAGE_PIXEL_FORMAT_RGB565.</p>
</p></td></tr><tr id="row1145123097093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1143987201093532"><p>SetStrideAlignment (uint32_t strideAlignment)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1576606717093532"><p>virtual void</p>
</p><p id="p1668267379093532"><p>Sets the number of bytes for stride alignment.</p>
</p></td></tr><tr id="row191345093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1435597376093532"><p>GetStrideAlignment ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p249255076093532"><p>virtual uint32_t</p>
</p><p id="p1952581975093532"><p>Obtains the number of bytes for stride alignment. By default, 4-byte
aligned is used.</p>
</p></td></tr><tr id="row280490833093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p732117211093532"><p>GetStride ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1173251834093532"><p>virtual uint32_t</p>
</p><p id="p792436571093532"><p>Obtains the stride of the surface.</p>
</p></td></tr><tr id="row710929190093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p581387843093532"><p>SetSize (uint32_t size)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p931687374093532"><p>virtual void</p>
</p><p id="p122188830093532"><p>Sets the size of the shared memory to allocate.</p>
</p></td></tr><tr id="row1091284037093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p338859374093532"><p>GetSize ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1501746211093532"><p>virtual uint32_t</p>
</p><p id="p1209196204093532"><p>Obtains the size of the shared memory to allocate.</p>
</p></td></tr><tr id="row1717514238093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2024095557093532"><p>SetUsage (uint32_t usage)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1296899180093532"><p>virtual void</p>
</p><p id="p1655545430093532"><p>Sets the usage scenario of the buffer. Physically contiguous memory and
virtual memory (by default) are supported. By default, virtual memory is
allocated.</p>
</p></td></tr><tr id="row577528962093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1723975487093532"><p>GetUsage ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1054228146093532"><p>virtual uint32_t</p>
</p><p id="p1836160325093532"><p>Obtains the usage scenario of the buffer. Physically contiguous memory
and virtual memory are supported.</p>
</p></td></tr><tr id="row1899067623093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1607057049093532"><p>SetUserData (const std::string &amp;key, const std::string &amp;value)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1831811300093532"><p>virtual void</p>
</p><p id="p252834988093532"><p>Sets surface user data, which is stored in the format of &lt;key, value&gt;.</p>
</p></td></tr><tr id="row144998221093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p701224958093532"><p>GetUserData (const std::string &amp;key)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p913573820093532"><p>virtual std::string</p>
</p><p id="p807141981093532"><p>Obtains surface user data.</p>
</p></td></tr><tr id="row2001355186093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1555750471093532"><p>RequestBuffer (uint8_t wait=0)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1041074372093532"><p>virtual SurfaceBuffer *</p>
</p><p id="p1188218196093532"><p>Obtains a buffer to write data.</p>
</p></td></tr><tr id="row836657755093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1278375752093532"><p>FlushBuffer (SurfaceBuffer *buffer)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1038438264093532"><p>virtual int32_t</p>
</p><p id="p1476463423093532"><p>Flushes a buffer to the dirty queue for consumers to use.</p>
</p></td></tr><tr id="row1789180531093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1284136928093532"><p>AcquireBuffer ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1774132457093532"><p>virtual SurfaceBuffer *</p>
</p><p id="p1204270943093532"><p>Obtains a buffer.</p>
</p></td></tr><tr id="row1338788754093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p984976531093532"><p>ReleaseBuffer (SurfaceBuffer *buffer)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2034543674093532"><p>virtual bool</p>
</p><p id="p1877065093532"><p>Releases the consumed buffer.</p>
</p></td></tr><tr id="row1511001839093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1482529688093532"><p>CancelBuffer (SurfaceBuffer *buffer)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1570338137093532"><p>virtual void</p>
</p><p id="p1233461571093532"><p>Releases a buffer to the free queue.</p>
</p></td></tr><tr id="row2049541733093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1230420480093532"><p>RegisterConsumerListener (IBufferConsumerListener &amp;listener)=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1616547435093532"><p>virtual void</p>
</p><p id="p1736190772093532"><p>Registers a consumer listener.</p>
</p></td></tr><tr id="row1254780076093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1656111914093532"><p>UnregisterConsumerListener ()=0</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p801491020093532"><p>virtual void</p>
</p><p id="p1383416536093532"><p>Unregisters the consumer listener.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="static-public-member-functions">
<h2>Static Public Member Functions<a class="headerlink" href="#static-public-member-functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row725066963093532"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p152890737093532"><p>Static Public Member Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1774298687093532"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row674356907093532"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p251121002093532"><p>CreateSurface ()</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2012271121093532"><p>static Surface *</p>
</p><p id="p1171887929093532"><p>A constructor used to create a Surface object for consumers to use.</p>
</p></td></tr></tbody></table></div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/docs-en/api/api-SmartVision-Devices/ohos-surface.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>