
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audio and Video Recording Development Guide &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="audio-and-video-recording-development-guide">
<h1>Audio and Video Recording Development Guide<a class="headerlink" href="#audio-and-video-recording-development-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="when-to-use">
<h2>When to Use<a class="headerlink" href="#when-to-use" title="Permalink to this headline">¶</a></h2>
<p>Audio and video recording is used to record audio and video and
encapsulate output files based on the configured encoding format,
sampling rate, and bit rate.</p>
</div>
<div class="section" id="available-apis">
<h2>Available APIs<a class="headerlink" href="#available-apis" title="Permalink to this headline">¶</a></h2>
<p>The audio and video recording APIs are as follows. For details about the
APIs, see the interface document.</p>
<p><strong>Table 1</strong> Audio and Video Recording APIs</p>
<table><thead align="left"><tr id="row4419501537"><th class="cellrowborder" valign="top" width="7.5200000000000005%" id="mcps1.2.4.1.1"><p id="p531591918714"><p>API</p>
</p></th><th class="cellrowborder" valign="top" width="53.06999999999999%" id="mcps1.2.4.1.2"><p id="p1325118401591"><p>Function</p>
</p></th><th class="cellrowborder" valign="top" width="39.410000000000004%" id="mcps1.2.4.1.3"><p id="p1251184013912"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row34145016535"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p113157191379"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p425115401998"><p>static Recorder *CreateRecorder()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p225104017920"><p>Creates a Recorder instance.</p>
</p></td></tr><tr id="row1746172917474"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p1712917411310"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p925111401895"><p>int32_t SetVideoSource(VideoSourceType source, int32_t &amp;sourceId)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p152511640691"><p>Setting a Video Source for Recording</p>
</p></td></tr><tr id="row10992232154714"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p8129156111319"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1776173711119"><p>int32_t SetVideoEncoder(int32_t sourceId, VideoCodecFormat encoder)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p127623791116"><p>Sets the type of the video encoder for recording.</p>
</p></td></tr><tr id="row933265824817"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p944717831310"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p6769371110"><p>int32_t SetVideoSize(int32_t sourceId, int32_t width, int32_t height)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p17761137181115"><p>Sets the width and height of the recorded video.</p>
</p></td></tr><tr id="row124766591190"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p18795111319132"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p476113791113"><p>int32_t SetVideoFrameRate(int32_t sourceId, int32_t frameRate)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p107613711114"><p>Sets the frame rate of the video to be recorded.</p>
</p></td></tr><tr id="row0260140101"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p149767151136"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1076203717112"><p>int32_t SetVideoEncodingBitRate(int32_t sourceId, int32_t rate)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p0761637141116"><p>Sets the encoding bit rate of the recorded video.</p>
</p></td></tr><tr id="row22024106107"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p177997175138"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p5761737171112"><p>int32_t SetCaptureRate(int32_t sourceId, double fps)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1761737151111"><p>Sets the frame capture rate of video frames.</p>
</p></td></tr><tr id="row82261213191012"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p94271121181318"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1129110237225"><p>std::shared_ptr&lt;OHOS::Surface&gt; GetSurface(int32_t sourceId);</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1876163710115"><p>Obtains the surface of the corresponding input source.</p>
</p></td></tr><tr id="row1366261518102"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p13158202312139"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p4761377117"><p>int32_t SetAudioSource(AudioSourceType source, int32_t &amp;sourceId)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p5765377117"><p>Set the audio source for recording.</p>
</p></td></tr><tr id="row7142161861017"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p2897162514139"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p8766372113"><p>int32_t SetAudioEncoder(int32_t sourceId, AudioCodecFormat encoder)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p127693731115"><p>Sets the type of the audio encoder for recording.</p>
</p></td></tr><tr id="row2053832071012"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p952618270132"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p976937141112"><p>int32_t SetAudioSampleRate(int32_t sourceId, int32_t rate)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1476183781110"><p>Sets the audio sampling rate for recording.</p>
</p></td></tr><tr id="row55394243108"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p677717304137"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p47703781114"><p>int32_t SetAudioChannels(int32_t sourceId, int32_t num)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p16772037121111"><p>Sets the number of audio channels to be recorded.</p>
</p></td></tr><tr id="row191791427121015"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p1759610327139"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p37723781118"><p>int32_t SetAudioEncodingBitRate(int32_t sourceId, int32_t bitRate)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p17771378113"><p>Sets the encoding bit rate of the recorded audio.</p>
</p></td></tr><tr id="row83478305107"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p16968193391311"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1536305312114"><p>int32_t SetMaxDuration(int32_t duration)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p93634532118"><p>Sets the maximum duration of a recorded file.</p>
</p></td></tr><tr id="row592711339103"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p947593614139"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1436314531119"><p>int32_t SetOutputFormat(OutputFormatType format)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1936315331119"><p>Sets the output file format.</p>
</p></td></tr><tr id="row15219377106"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p552463917132"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p33631253121116"><p>int32_t SetOutputFile(int32_t fd)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p336335351111"><p>Sets the FD of the output file.</p>
</p></td></tr><tr id="row18755438101013"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p121613438137"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p14363175317114"><p>int32_t SetNextOutputFile(int32_t fd);</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p236375361119"><p>Sets the fd of the next output file.</p>
</p></td></tr><tr id="row14480241101010"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p07641457131"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p2363145317112"><p>int32_t SetMaxFileSize(int64_t size)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p43646539114"><p>Sets the maximum file size of a recording session.</p>
</p></td></tr><tr id="row835564418101"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p2104174817136"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p15364195315118"><p>int32_t SetRecorderCallback(const std::shared_ptr&lt;RecorderCallback&gt;
&amp;callback)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1636412538119"><p>Registers the recording listener callback function.</p>
</p></td></tr><tr id="row780144661014"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p098351816145"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p173641153151110"><p>int32_t Prepare()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p636495341115"><p>Prepare for recording.</p>
</p></td></tr><tr id="row11537184971012"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p12815320121418"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p53641053151113"><p>int32_t Start()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p53642536114"><p>Starts recording.</p>
</p></td></tr><tr id="row158225271018"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p132682201410"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p936485351112"><p>int32_t Pause()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p183641253141110"><p>Pauses recording.</p>
</p></td></tr><tr id="row15938254131016"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p12615824111414"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p123641153191115"><p>int32_t Resume()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p0364195331116"><p>Resumes recording.</p>
</p></td></tr><tr id="row193212569102"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p15373202761415"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p63641653101116"><p>int32_t Stop(bool block)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1364053171112"><p>Stops recording.</p>
</p></td></tr><tr id="row1392185911103"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p199881728181420"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p143641539114"><p>int32_t Reset();</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p20364353131115"><p>Resets recording.</p>
</p></td></tr><tr id="row816014171116"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p193259303141"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p183649535111"><p>int32_t Release()</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p1036420534111"><p>Releasing Recording Resources</p>
</p></td></tr><tr id="row115981253112"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p1466416312142"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p17364053171110"><p>int32_t SetFileSplitDuration(FileSplitType type, int64_t timestamp,
uint32_t duration)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p8364205361117"><p>Setting Split Recording</p>
</p></td></tr><tr id="row1677310915111"><td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.1 "><p id="p1028316364149"><p>Recorder</p>
</p></td><td class="cellrowborder" valign="top" width="53.06999999999999%" headers="mcps1.2.4.1.2 "><p id="p1936411531111"><p>int32_t SetParameter(int32_t sourceId, const Format &amp;format)</p>
</p></td><td class="cellrowborder" valign="top" width="39.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p13657530118"><p>Sets the extended recording parameters.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="limitations-and-constraints">
<h2>Limitations and Constraints<a class="headerlink" href="#limitations-and-constraints" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="how-to-develop">
<h2>How to Develop<a class="headerlink" href="#how-to-develop" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>This API is used to create a Recorder instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Recorder</span> <span class="o">*</span><span class="n">recorder</span> <span class="o">=</span> <span class="n">Recorder</span><span class="p">::</span><span class="n">CreateRecorder</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p>Sets Recorder parameters, including the audio and video source
information, audio and video encoding format, sampling rate, bit
rate, and video width and height.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">sampleRate</span> <span class="o">=</span> <span class="mi">48000</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">channelCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">AudioCodecFormat</span> <span class="n">audioFormat</span> <span class="o">=</span> <span class="n">AAC_LC</span><span class="p">;</span>
<span class="n">AudioSourceType</span> <span class="n">inputSource</span> <span class="o">=</span> <span class="n">AUDIO_MIC</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">audioEncodingBitRate</span> <span class="o">=</span> <span class="n">sampleRate</span><span class="p">;</span>
<span class="n">VideoSourceType</span> <span class="n">source</span> <span class="o">=</span> <span class="n">VIDEO_SOURCE_SURFACE_ES</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">frameRate</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="nb">float</span> <span class="n">fps</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">rate</span> <span class="o">=</span> <span class="mi">4096</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">sourceId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">audioSourceId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">1920</span><span class="p">;</span>
<span class="n">int32_t</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">1080</span><span class="p">;</span>
<span class="n">VideoCodecFormat</span> <span class="n">encoder</span> <span class="o">=</span> <span class="n">H264</span><span class="p">;</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetVideoSource</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">sourceId</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">video</span> <span class="n">source</span> <span class="ow">and</span> <span class="n">obtain</span> <span class="n">the</span> <span class="n">sourceId</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetVideoEncoder</span><span class="p">(</span><span class="n">sourceId</span><span class="p">,</span> <span class="n">encoder</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">video</span> <span class="n">encoding</span> <span class="nb">format</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetVideoSize</span><span class="p">(</span><span class="n">sourceId</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">video</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">height</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetVideoFrameRate</span><span class="p">(</span><span class="n">sourceId</span><span class="p">,</span> <span class="n">frameRate</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">video</span> <span class="n">frame</span> <span class="n">rate</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetVideoEncodingBitRate</span><span class="p">(</span><span class="n">sourceId</span><span class="p">,</span> <span class="n">rate</span><span class="p">);</span> <span class="o">//</span><span class="p">:</span> <span class="n">Sets</span> <span class="n">the</span> <span class="n">video</span> <span class="n">encoding</span> <span class="n">bit</span> <span class="n">rate</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetCaptureRate</span><span class="p">(</span><span class="n">sourceId</span><span class="p">,</span> <span class="n">frameRate</span><span class="p">);</span> <span class="o">//</span><span class="p">:</span> <span class="n">Sets</span> <span class="n">the</span> <span class="n">frame</span> <span class="n">capture</span> <span class="n">rate</span> <span class="n">of</span> <span class="n">video</span> <span class="n">frames</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetAudioSource</span><span class="p">(</span><span class="n">inputSource</span><span class="p">,</span> <span class="n">audioSourceId</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">audio</span> <span class="n">source</span> <span class="ow">and</span> <span class="n">obtain</span> <span class="n">audioSourceId</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetAudioEncoder</span><span class="p">(</span><span class="n">audioSourceId</span><span class="p">,</span> <span class="n">audioFormat</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">audio</span> <span class="n">encoding</span> <span class="nb">format</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetAudioSampleRate</span><span class="p">(</span><span class="n">audioSourceId</span><span class="p">,</span> <span class="n">sampleRate</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">audio</span> <span class="n">sampling</span> <span class="n">rate</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetAudioChannels</span><span class="p">(</span><span class="n">audioSourceId</span><span class="p">,</span> <span class="n">channelCount</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">audio</span> <span class="n">channels</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">SetAudioEncodingBitRate</span><span class="p">(</span><span class="n">audioSourceId</span><span class="p">,</span> <span class="n">audioEncodingBitRate</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">audio</span> <span class="n">encoding</span> <span class="n">bit</span> <span class="n">rate</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Prepare for the recording. The Recorder prepares for the recording.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">-&gt;</span><span class="n">Prepare</span><span class="p">();</span> <span class="o">//</span> <span class="n">Prepares</span> <span class="k">for</span> <span class="n">recording</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>The Recorder starts recording based on the configured audio and video
sources.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">-&gt;</span><span class="n">Start</span><span class="p">();</span> <span class="o">//</span> <span class="n">Start</span> <span class="n">recording</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Stop recording and release resources.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">-&gt;</span><span class="n">Stop</span><span class="p">();</span> <span class="o">//</span> <span class="n">Stop</span> <span class="n">recording</span><span class="o">.</span>
<span class="n">recorder</span><span class="o">-&gt;</span><span class="n">Release</span><span class="p">();</span> <span class="o">//</span> <span class="n">Release</span> <span class="n">recording</span> <span class="n">resources</span><span class="o">.</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs-en/subsystems/audio-and-video-recording-development-guide.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>