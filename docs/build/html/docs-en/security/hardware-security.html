
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hardware Security &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="hardware-security">
<h1>Hardware Security<a class="headerlink" href="#hardware-security" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mechanism">
<h2>Mechanism<a class="headerlink" href="#mechanism" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Boot root of trust</p>
<p>OpenHarmony devices use the public key infrastructure (PKI) to
protect software integrity and ensure that the software source is
valid and the software is not tampered with.</p>
<p>In the device boot process, software signature verification is
performed at each phase to form a secure boot chain. If signature
verification fails at any phase, the device boot will be terminated.
The hardware or software entity that initially performs signature
verification in the secure boot chain is the boot root of trust. It
must be valid and should not be tampered with. The boot root of trust
can be a built-in code segment in the read-only memory (ROM). This
code segment is written in the chip during the chip manufacturing and
cannot be modified later. When the device is powered on and
initialized, this code segment is executed first and used to verify
software signatures.</p>
<p>When you use the code for signature verification, ensure the validity
of the PKI public keys. OpenHarmony devices use a storage medium such
as eFUSE and one-time password (OTP) to store the public keys (for
example, their hash values) and guarantee their validity. A public
key is usually programed into the eFuse or OTP of a device during
device manufacturing.</p>
</li>
<li><p>Hardware-isolated trusted environment</p>
<p>The hardware-isolated trusted environment complies with the design
concept of the trusted computing system. There is a clear boundary
between the trusted environment and untrusted one. OpenHarmony
devices protect core sensitive data in the trusted environment. Even
if OS vulnerabilities in the untrusted environment are exploited,
sensitive data in the trusted environment is secure.</p>
<p>The trusted environment of OpenHarmony devices is built based on a
hardware security isolation mechanism. The chip isolation mechanism
varies slightly on different OpenHarmony devices, and the most common
mechanism is Arm TrustZone. On some RISC-V chip platforms,
independent security cores may also be used to build a trusted
environment.</p>
<p>A specific, simplified OS iTrustee lite runs in the trusted
environment to manage resources and schedule tasks in the environment
and provide security services for OpenHarmony devices. Key management
and data security are the most common security services in the
trusted environment. A device has a unique hardware root key in the
eFuse/OTP. Based on this root key and service context, the trusted
environment generates multiple keys that provide key management and
data encryption/decryption services for applications. During their
whole lifecycle, core keys of devices stay in the trusted
environment. The trusted environment also provides security services
such as identity authentication, system status monitoring, and secure
data storage to enhance device security.</p>
</li>
<li><p>Hardware key engine</p>
<p>Cryptography is the basis of information security. Data
encryption/decryption requires high efficiency and security of
computing devices. Hardware encryption/decryption technologies use
computer hardware to assist or even replace software to encrypt or
decrypt data. Hardware-based encryption/decryption is more efficient
and secure than software-based encryption/decryption.</p>
<p>Since some dedicated hardware resources are used for data
encryption/decryption, the CPU can concurrently execute other
computing tasks, which greatly improves performance and reduces the
CPU load. In addition, a well-designed hardware key engine protects
keys from leak even if the software is cracked and even defends
against electromagnetic and radiation attacks from physical channels.</p>
<p>OpenHarmony devices support the hardware key engine, which allows
OpenHarmony to perform computing tasks such as data encryption and
decryption, certificate signature verification, and hash value
calculation. The hardware key engine supports popular algorithms such
as Advanced Encryption Standard (AES) and Rivest-Shamir-Adleman
(RSA).</p>
</li>
</ul>
</div>
<div class="section" id="recommended-practices">
<h2>Recommended Practices<a class="headerlink" href="#recommended-practices" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The boot root of trust consists of a built-in code segment in the
chip and the root key of the device. The root of trust is written
into the chip during manufacturing and cannot be modified in the
device lifecycle. It is used to verify software certificates in the
device boot process. The root key is the public key matching the
private key of the device certificate signature. The private key is
maintained on the PKI signature server and the public key is written
to the device. To prevent attackers from tampering with the public
key to bypass signature authentication, you can write the public key
to media such as fuses on OpenHarmony devices. Considering that the
fuse space is limited, you can store only the hash value of the
public key in the fuse and verify the validity of the public key
using the boot code.</p></li>
<li><p>Generally, a trusted execution environment (TEE) is built based on
the Arm TrustZone technology, and can also adopt other isolation
mechanisms, such as TrustZone-M and independent security cores,
depending on the device form. A TEE OS must be deployed in the TEE to
manage resources and schedule tasks. OpenHarmony provides iTrustee as
the TEE OS. You can develop and deploy security services based on
iTrustee.</p>
<p>Not all OpenHarmony devices need to support the TEE, for example,
some devices with thin resources that run less sensitive services may
not need the TEE. You can choose whether to support the TEE and how
to implement the TEE based on service requirements.</p>
</li>
<li><p>The hardware key engine must provide key algorithms related to true
random numbers, public keys, symmetric keys, and hash values. By
deploying required drivers in OpenHarmony, you can provide unified
key management and key algorithms for applications.</p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs-en/security/hardware-security.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>