
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Environment Variables &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">Â¶</a></h1>
<p>During bundle compilation, system-provided environment variables are
required to define the output and link the required binary files. These
variables are injected into the context for executing scripts based on
service requirements. Therefore, their values can be directly obtained
from the scripts. Currently, there are global and fixed environment
variables in the system.</p>
<p>Global variables are defined by the** envs** attribute in
<strong>bundle.json</strong>. All dependent bundles can obtain the values of global
variables.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;envs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;compileEnv&quot;</span><span class="p">:</span> <span class="s2">&quot;arm&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Different parameters can be passed to bundles when introducing
dependencies so that the compilation of dependent bundles can meet the
requirements of the current bundle. The parameters defined in the
dependencies can be obtained from the context for executing the
corresponding scripts.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;my-bundle&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;debug&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When linking to a binary file, the bundle needs to know the file path
regarding the dependencies. Therefore, the path (as an environment
variable) is passed to the bundle for compiling.</p>
<p>The passed environment variable is in <strong>DEP_BundleName</strong> format,
where <strong>BundleName</strong> indicates the name of the dependent bundle, for
example, <strong>DEP_first-bundle</strong>.</p>
<p>Tags can be defined to group dependent bundles. You can obtain the path
of a group of dependent bundles based on their tag. A tag starts with a
number sign (#) and is defined as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;#tool&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;first-bundle&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;second-bundle&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;#drivers&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;xx-bundle&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;yy-bundle&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are two fixed environment variables:</p>
<ul class="simple">
<li><p><strong>DEP_OHOS_BUNDLES</strong>: path of the <strong>ohos_bundles</strong> folder</p></li>
<li><p><strong>DEP_BUNDLE_BASE</strong>: path of the outermost bundle</p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/bundles/environment-variables.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>