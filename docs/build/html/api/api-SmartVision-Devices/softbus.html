
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Softbus &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="softbus">
<h1>Softbus<a class="headerlink" href="#softbus" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Provides high-speed, secure communication between devices.</p>
<p>This module implements unified distributed communication capability
management between nearby devices, and provides link-independent device
discovery and transmission interfaces to support service publishing and
data transmission.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1455608571084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1891135614084826"><p>File Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1840523383084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row888298876084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1119750213084826"><p>discovery_service.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p402839537084826"><p>Declares unified device service publishing interfaces.</p>
</p></td></tr><tr id="row1132313724084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p121539367084826"><p>session.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1457475409084826"><p>Declares unified data transmission interfaces.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1910957613084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1408141239084826"><p>Data Structure Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1175180734084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row770885014084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p757382244084826"><p>PublishInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1848096791084826"><p>Defines service provisioning information sent to a discovering device.</p>
</p></td></tr><tr id="row2013345933084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p176535025084826"><p>CapabilityMap</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p621255296084826"><p>Defines the mapping between supported capabilities and bitmaps.</p>
</p></td></tr><tr id="row1885888274084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1058413366084826"><p>DeviceMap</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1282047040084826"><p>Defines the mappings between the device type enumerations and device
type names.</p>
</p></td></tr><tr id="row1822655937084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1619561714084826"><p>IPublishCallback</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1310607020084826"><p>Defines the callbacks for successful and failed service publishing.</p>
</p></td></tr><tr id="row1449608605084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p757218573084826"><p>CommonDeviceInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1781252661084826"><p>Defines the type and content of a device to set.</p>
</p></td></tr><tr id="row963433143084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p834540194084826"><p>ISessionListener</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p112168045084826"><p>Defines session callbacks.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row11521638084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p48187010084826"><p>Typedef Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p893002590084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row579805314084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1201821514084826"><p>PublishInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p67695395084826"><p>typedef struct PublishInfo</p>
</p><p id="p409707776084826"><p>Defines service provisioning information sent to a discovering device.</p>
</p></td></tr><tr id="row788728403084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p450466293084826"><p>DeviceType</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p692880543084826"><p>typedef enum DeviceTypeEnum</p>
</p><p id="p1962897187084826"><p>Enumerates device types.</p>
</p></td></tr><tr id="row1649975854084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2112338524084826"><p>IPublishCallback</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1199910831084826"><p>typedef struct IPublishCallback</p>
</p><p id="p361927622084826"><p>Defines the callbacks for successful and failed service publishing.</p>
</p></td></tr><tr id="row740098139084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1743457550084826"><p>CommonDeviceInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1582616954084826"><p>typedef struct CommonDeviceInfo</p>
</p><p id="p472532179084826"><p>Defines the type and content of a device to set.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="enumerations">
<h2>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1412486752084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1301739476084826"><p>Enumeration Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p380656488084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row883183268084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1567961531084826"><p>ExchanageMedium { AUTO = 0, BLE = 1, COAP = 2, USB = 3 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p337628627084826"><p>Enumerates media, such as Bluetooth, Wi-Fi, and USB, used for publishing
services.</p>
</p></td></tr><tr id="row443171285084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1564541947084826"><p>ExchangeFre { LOW = 0, MID = 1, HIGH = 2, SUPER_HIGH = 3 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p78350382084826"><p>Enumerates frequencies for publishing services. This enumeration is
involved only in Bluetooth and is not supported currently.</p>
</p></td></tr><tr id="row425637528084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1458522032084826"><p>DiscoverMode { DISCOVER_MODE_PASSIVE = 0x55, DISCOVER_MODE_ACTIVE = 0xAA
}</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p304811890084826"><p>Enumerates the modes in which services are published. The publishing
service supports the passive mode. Lite devices support the passive mode
only.</p>
</p></td></tr><tr id="row970941026084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p735895014084826"><p>PublishFailReason { PUBLISH_FAIL_REASON_NOT_SUPPORT_MEDIUM = 1,
PUBLISH_FAIL_REASON_PARAMETER_INVALID = 2, PUBLISH_FAIL_REASON_UNKNOWN =
0xFF }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1513268860084826"><p>Enumerates failure reasons for publishing services.</p>
</p></td></tr><tr id="row579510567084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p258566176084826"><p>DataBitMap { HICALL_CAPABILITY_BITMAP = 0, PROFILE_CAPABILITY_BITMAP =
1, HOMEVISIONPIC_CAPABILITY_BITMAP = 2, CASTPLUS_CAPABILITY_BITMAP,
AA_CAPABILITY_BITMAP, DVKIT_CAPABILITY_BITMAP, DDMP_CAPABILITY_BITMAP }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p774992679084826"><p>Enumerates supported capabilities published by a device.</p>
</p></td></tr><tr id="row166654271084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p330144356084826"><p>DeviceTypeEnum { UNKOWN = 0x00, PHONE = 0x0E, PAD = 0x11, TV = 0x9C, PC
= 0x0C, AUDIO = 0x0A, CAR = 0x83, L0 = 0xF1, L1 = 0xF2 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p93936944084826"><p>Enumerates device types.</p>
</p></td></tr><tr id="row407461483084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1004340918084826"><p>CommonDeviceKey { COMM_DEVICE_KEY_DEVID = 0, COMM_DEVICE_KEY_DEVTYPE =
1, COMM_DEVICE_KEY_DEVNAME = 2, COMM_DEVICE_KEY_MAX }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1095997458084826"><p>Enumerates device information, such as its ID, type, and name.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1862776811084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p124837019084826"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1900097445084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1882894076084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1576494949084826"><p>PublishService (const char <em>moduleName, const struct PublishInfo</em>info,
const struct IPublishCallback *cb)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2116880075084826"><p>int</p>
</p><p id="p762890552084826"><p>Publishes a service to the discovering device in the LAN.</p>
</p></td></tr><tr id="row454460556084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1112653090084826"><p>UnPublishService (const char *moduleName, int publishId)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1891304307084826"><p>int</p>
</p><p id="p2099420213084826"><p>Unpublishes a service based on the publicId and moduleName.</p>
</p></td></tr><tr id="row1533114259084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1772888179084826"><p>SetCommonDeviceInfo (const struct CommonDeviceInfo *devInfo, unsigned
int num)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1347007771084826"><p>int</p>
</p><p id="p835095383084826"><p>Sets common device information, such as its ID, type, and name.</p>
</p></td></tr><tr id="row42686537084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1374292058084826"><p>CreateSessionServer (const char <em>mouduleName, const char</em>sessionName,
struct ISessionListener *listener)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2022856984084826"><p>int</p>
</p><p id="p674615282084826"><p>Creates a session server based on a module name and session name.</p>
</p></td></tr><tr id="row1275695126084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p343865432084826"><p>RemoveSessionServer (const char <em>mouduleName, const char</em>sessionName)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1864101462084826"><p>int</p>
</p><p id="p1002144274084826"><p>Removes a session server based on a module name and session name.</p>
</p></td></tr><tr id="row2092952932084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p146489768084826"><p>SendBytes (int sessionId, const void *data, unsigned int len)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1113531567084826"><p>int</p>
</p><p id="p2120183718084826"><p>Sends data based on a session ID.</p>
</p></td></tr><tr id="row68912556084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1669378912084826"><p>GetMySessionName (int sessionId, char *sessionName, unsigned int len)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1291342699084826"><p>int</p>
</p><p id="p2089505870084826"><p>Obtains the session name registered by the local device based on the
session ID.</p>
</p></td></tr><tr id="row1156361399084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1628672787084826"><p>GetPeerSessionName (int sessionId, char *sessionName, unsigned int len)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p798683379084826"><p>int</p>
</p><p id="p1394311469084826"><p>Obtains the session name registered by the peer device based on the
session ID.</p>
</p></td></tr><tr id="row244828317084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1863446608084826"><p>GetPeerDeviceId (int sessionId, char *devId, unsigned int len)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p667636495084826"><p>int</p>
</p><p id="p658151567084826"><p>Obtains the peer device ID based on a session ID.</p>
</p></td></tr><tr id="row1902381658084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1778035429084826"><p>CloseSession (int sessionId)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1273007875084826"><p>void</p>
</p><p id="p516600274084826"><p>Closes a connected session based on a session ID.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="details">
<h2><strong>Details</strong><a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="typedef-documentation">
<h2><strong>Typedef Documentation</strong><a class="headerlink" href="#typedef-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="commondeviceinfo">
<h2>CommonDeviceInfo<a class="headerlink" href="#commondeviceinfo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">CommonDeviceInfo</span><span class="p">](</span><span class="n">commondeviceinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">CommonDeviceInfo</span><span class="p">](</span><span class="n">commondeviceinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the type and content of a device to set.</p>
</div>
<div class="section" id="devicetype">
<h2>DeviceType<a class="headerlink" href="#devicetype" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">[</span><span class="n">DeviceTypeEnum</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gab20b49630026f3118d6c05b0a022f230) [DeviceType](softbus.md#ga9334bacb3ded964dc3c3367a6b70bcf4)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates device types.</p>
</div>
<div class="section" id="ipublishcallback">
<h2>IPublishCallback<a class="headerlink" href="#ipublishcallback" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">IPublishCallback</span><span class="p">](</span><span class="n">ipublishcallback</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">IPublishCallback</span><span class="p">](</span><span class="n">ipublishcallback</span><span class="o">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the callbacks for successful and failed service publishing.</p>
</div>
<div class="section" id="publishinfo">
<h2>PublishInfo<a class="headerlink" href="#publishinfo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">PublishInfo</span><span class="p">](</span><span class="n">publishinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">PublishInfo</span><span class="p">](</span><span class="n">publishinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines service provisioning information sent to a discovering device.</p>
</div>
<div class="section" id="enumeration-type-documentation">
<h2><strong>Enumeration Type Documentation</strong><a class="headerlink" href="#enumeration-type-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="commondevicekey">
<h2>CommonDeviceKey<a class="headerlink" href="#commondevicekey" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">CommonDeviceKey</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga25be99ffbe88e41f7ce51d2678010254)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates device information, such as its ID, type, and name.</p>
<table><thead align="left"><tr id="row367836083084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1707237655084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1354273044084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1586587207084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>COMM_DEVICE_KEY_DEVID</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p321377591084826"><p>Device ID. The value contains a maximum of 64 characters.</p>
</p></td></tr><tr id="row324366149084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>COMM_DEVICE_KEY_DEVTYPE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p617065833084826"><p>Device type. Currently, only ddmpCapability is supported.</p>
</p></td></tr><tr id="row988073840084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>COMM_DEVICE_KEY_DEVNAME</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p708028533084826"><p>Device name. The value contains a maximum of 63 characters.</p>
</p></td></tr><tr id="row2116358203084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>COMM_DEVICE_KEY_MAX</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p437577523084826"><p>Reserved</p>
</p></td></tr></tbody></table></div>
<div class="section" id="databitmap">
<h2>DataBitMap<a class="headerlink" href="#databitmap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">DataBitMap</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gab839c7f1fd448f52f003ab0693f27bb4)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates supported capabilities published by a device.</p>
<table><thead align="left"><tr id="row1771648352084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1652666140084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1272847588084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row347469010084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>HICALL_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2042378859084826"><p>MeeTime</p>
</p></td></tr><tr id="row1221706438084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PROFILE_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1122462696084826"><p>Video reverse connection in the smart domain</p>
</p></td></tr><tr id="row422851111084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>HOMEVISIONPIC_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1155156506084826"><p>Gallery in Vision</p>
</p></td></tr><tr id="row199989573084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>CASTPLUS_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1824687316084826"><p>cast+</p>
</p></td></tr><tr id="row1657174351084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>AA_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1035431235084826"><p>Input method in Vision</p>
</p></td></tr><tr id="row391846446084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>DVKIT_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1681301167084826"><p>Device virtualization tool package</p>
</p></td></tr><tr id="row918633199084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>DDMP_CAPABILITY_BITMAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1263495932084826"><p>Distributed middleware</p>
</p></td></tr></tbody></table></div>
<div class="section" id="devicetypeenum">
<h2>DeviceTypeEnum<a class="headerlink" href="#devicetypeenum" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">DeviceTypeEnum</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gab20b49630026f3118d6c05b0a022f230)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates device types.</p>
<table><thead align="left"><tr id="row886841506084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1844878205084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1708810097084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row242128106084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>UNKOWN</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1645369544084826"><p>Unknown</p>
</p></td></tr><tr id="row1369909725084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PHONE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p598352562084826"><p>Smartphone</p>
</p></td></tr><tr id="row2041501042084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PAD</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p294635870084826"><p>Tablet</p>
</p></td></tr><tr id="row1396370946084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>TV</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p375660981084826"><p>Smart TV</p>
</p></td></tr><tr id="row468128129084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PC</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1968208196084826"><p>PC</p>
</p></td></tr><tr id="row325787577084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>AUDIO</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1534044239084826"><p>Audio device</p>
</p></td></tr><tr id="row1853972830084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>CAR</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1175518070084826"><p>Vehicle-mounted device</p>
</p></td></tr><tr id="row1273227036084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>L0</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1631600643084826"><p>Light device L0</p>
</p></td></tr><tr id="row1388296430084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>L1</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p140196247084826"><p>Light device L1</p>
</p></td></tr></tbody></table></div>
<div class="section" id="discovermode">
<h2>DiscoverMode<a class="headerlink" href="#discovermode" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">DiscoverMode</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga7369479474cf45e9ca9c0f756473c74f)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates the modes in which services are published. The publishing
service supports the passive mode. Lite devices support the passive mode
only.</p>
<table><thead align="left"><tr id="row485647326084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p93936816084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1296273094084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row381915687084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>DISCOVER_MODE_PASSIVE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p774808019084826"><p>Passive</p>
</p></td></tr><tr id="row1141752691084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>DISCOVER_MODE_ACTIVE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p348230146084826"><p>Proactive</p>
</p></td></tr></tbody></table></div>
<div class="section" id="exchanagemedium">
<h2>ExchanageMedium<a class="headerlink" href="#exchanagemedium" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">ExchanageMedium</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaf5c7c122990f0ab5bd46b9bc47b5868b)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates media, such as Bluetooth, Wi-Fi, and USB, used for publishing
services.</p>
<p>Currently, the media can only be set to coap.</p>
<table><thead align="left"><tr id="row1489335750084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2036322482084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1744521509084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1389763089084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>AUTO</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1368271923084826"><p>Automatic medium selection</p>
</p></td></tr><tr id="row771870356084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BLE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2003630719084826"><p>Bluetooth</p>
</p></td></tr><tr id="row2024727910084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>COAP</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1544201875084826"><p>Wi-Fi</p>
</p></td></tr><tr id="row1297716956084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>USB</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1310673453084826"><p>USB</p>
</p></td></tr></tbody></table></div>
<div class="section" id="exchangefre">
<h2>ExchangeFre<a class="headerlink" href="#exchangefre" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">ExchangeFre</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gacf2c77bd7e2c82784078762978123ea3)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates frequencies for publishing services. This enumeration is
involved only in Bluetooth and is not supported currently.</p>
<table><thead align="left"><tr id="row1574403379084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1038402190084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1145043548084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row2134655078084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>LOW</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1613269007084826"><p>Low</p>
</p></td></tr><tr id="row1311417290084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>MID</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1202605610084826"><p>Medium</p>
</p></td></tr><tr id="row947280872084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>HIGH</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1262296288084826"><p>High</p>
</p></td></tr><tr id="row813132537084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>SUPER_HIGH</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1613433000084826"><p>Super-high</p>
</p></td></tr></tbody></table></div>
<div class="section" id="publishfailreason">
<h2>PublishFailReason<a class="headerlink" href="#publishfailreason" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">PublishFailReason</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga6632fcae1db4a3a13370e3fb49e5e620)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates failure reasons for publishing services.</p>
<p>The failure reason is returned to the caller through the callback
function.</p>
<table><thead align="left"><tr id="row1911374133084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2020363898084826"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1287138649084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row903429588084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PUBLISH_FAIL_REASON_NOT_SUPPORT_MEDIUM</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p43603238084826"><p>Unsupported medium</p>
</p></td></tr><tr id="row1868700142084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PUBLISH_FAIL_REASON_PARAMETER_INVALID</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1728701152084826"><p>Invalid parameter</p>
</p></td></tr><tr id="row1896688223084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PUBLISH_FAIL_REASON_UNKNOWN</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2140427638084826"><p>Unknown reason</p>
</p></td></tr></tbody></table></div>
<div class="section" id="function-documentation">
<h2><strong>Function Documentation</strong><a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="closesession">
<h2>CloseSession()<a class="headerlink" href="#closesession" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">CloseSession</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Closes a connected session based on a session ID.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row871901384084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p147135690084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1675541190084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1462447443084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr></tbody></table></div>
<div class="section" id="createsessionserver">
<h2>CreateSessionServer()<a class="headerlink" href="#createsessionserver" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">CreateSessionServer</span> <span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">mouduleName</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">sessionName</span><span class="p">,</span> <span class="n">struct</span> <span class="p">[</span><span class="n">ISessionListener</span><span class="p">](</span><span class="n">isessionlistener</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">listener</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Creates a session server based on a module name and session name.</p>
<p>A maximum of 18 session servers can be created.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1994966528084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p633864518084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1072738826084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row705820965084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>moduleName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the module name, which can be used to check
whether the session server is in this module. The value cannot be empty
and can contain a maximum of 64 characters.</p>
</td></tr><tr id="row628423559084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the session name, which is the unique ID of the
session server. The value cannot be empty and can contain a maximum of
64 characters.</p>
</td></tr><tr id="row1846255882084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>listener</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the session callback structure, which cannot be
empty.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="softbus.md#ga225a1e178544457263d94078e638b7b5">RemoveSessionServer</a></p>
</div>
<div class="section" id="getmysessionname">
<h2>GetMySessionName()<a class="headerlink" href="#getmysessionname" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">GetMySessionName</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span> <span class="n">sessionName</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="nb">len</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the session name registered by the local device based on the
session ID.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1093496448084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p175525575084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p395345183084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row481554885084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr><tr id="row200622033084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the buffer for storing the session name.</p>
</td></tr><tr id="row223303878084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>len</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the length of the buffer.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
</div>
<div class="section" id="getpeerdeviceid">
<h2>GetPeerDeviceId()<a class="headerlink" href="#getpeerdeviceid" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">GetPeerDeviceId</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span> <span class="n">devId</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="nb">len</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the peer device ID based on a session ID.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row680664922084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p475906289084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2095272769084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row858809078084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr><tr id="row19881490084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>devId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the buffer for storing the device ID.</p>
</td></tr><tr id="row1472277011084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>len</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the length of the buffer.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
</div>
<div class="section" id="getpeersessionname">
<h2>GetPeerSessionName()<a class="headerlink" href="#getpeersessionname" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">GetPeerSessionName</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span> <span class="n">sessionName</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="nb">len</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the session name registered by the peer device based on the
session ID.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row926642518084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1492548738084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1689539876084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row137617519084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr><tr id="row1248343140084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the buffer for storing the session name.</p>
</td></tr><tr id="row494303810084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>len</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the length of the buffer.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
</div>
<div class="section" id="publishservice">
<h2>PublishService()<a class="headerlink" href="#publishservice" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">PublishService</span> <span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">moduleName</span><span class="p">,</span> <span class="n">const</span> <span class="n">struct</span> <span class="p">[</span><span class="n">PublishInfo</span><span class="p">](</span><span class="n">publishinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">info</span><span class="p">,</span> <span class="n">const</span> <span class="n">struct</span> <span class="p">[</span><span class="n">IPublishCallback</span><span class="p">](</span><span class="n">ipublishcallback</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">cb</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Publishes a service to the discovering device in the LAN.</p>
<p>The <strong>publicId</strong> and <strong>moduleName</strong> uniquely identify a service. A
maximum of three services can be published.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1058939735084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p345043156084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p24658190084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row145621336084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>moduleName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the module name of the upper-layer service. The
value contains a maximum of 63 bytes.</p>
</td></tr><tr id="row893817337084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>info</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the service to publish. For details, see
PublishInfo.</p>
</td></tr><tr id="row378192610084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>cb</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the callback for service publishing. For
details, see IPublishCallback.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
</div>
<div class="section" id="removesessionserver">
<h2>RemoveSessionServer()<a class="headerlink" href="#removesessionserver" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">RemoveSessionServer</span> <span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">mouduleName</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">sessionName</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Removes a session server based on a module name and session name.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row829994423084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p254741406084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1498719025084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1411272163084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>moduleName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the name of the registered module, which can be
used to check whether the session server is in this module. The value
cannot be empty and can contain a maximum of 64 characters.</p>
</td></tr><tr id="row1552367579084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the session name. The value cannot be empty and
can contain a maximum of 64 characters.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns <strong>-1</strong> otherwise.</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="softbus.md#gad7e95cced3378e8f489553d70b121392">CreateSessionServer</a></p>
</div>
<div class="section" id="sendbytes">
<h2>SendBytes()<a class="headerlink" href="#sendbytes" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">SendBytes</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">,</span> <span class="n">const</span> <span class="n">void</span> <span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="nb">len</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends data based on a session ID.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row782536415084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p358749403084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2039521941084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row871148033084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr><tr id="row266312763084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>data</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the data to send, which cannot be NULL.</p>
</td></tr><tr id="row1435373753084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>len</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the length of the data to send. The maximum length cannot
exceed 984 characters.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the function is called successfully; returns <strong>-1</strong>
otherwise.</p>
</div>
<div class="section" id="setcommondeviceinfo">
<h2>SetCommonDeviceInfo()<a class="headerlink" href="#setcommondeviceinfo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">SetCommonDeviceInfo</span> <span class="p">(</span><span class="n">const</span> <span class="n">struct</span> <span class="p">[</span><span class="n">CommonDeviceInfo</span><span class="p">](</span><span class="n">commondeviceinfo</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">devInfo</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="n">num</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sets common device information, such as its ID, type, and name.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row2129973445084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1417875425084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1788286578084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row720930152084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>devInfo</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the device information array.</p>
</td></tr><tr id="row952103749084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>2</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>num Indicates the number of elements in the device information array. If
the value is inconsistent with the length of the device information
array, the program breaks down.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns a non-zero value
otherwise.</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="softbus.md#ga010557e05b3f0b0b1a05157f1724e13a">PublishService</a></p>
</div>
<div class="section" id="unpublishservice">
<h2>UnPublishService()<a class="headerlink" href="#unpublishservice" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">UnPublishService</span> <span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">moduleName</span><span class="p">,</span> <span class="nb">int</span> <span class="n">publishId</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Unpublishes a service based on the <strong>publicId</strong> and <strong>moduleName</strong>.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1538782133084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1831169438084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1482533808084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row163848431084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>moduleName</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the module name of the upper-layer service. The
value contains a maximum of 63 bytes.</p>
</td></tr><tr id="row1182410031084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>publishId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the ID of the service to unpublish. The value must be greater
than 0.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the operation is successful; returns a non-zero value
otherwise.</p>
</div>
<div class="section" id="variable-documentation">
<h2><strong>Variable Documentation</strong><a class="headerlink" href="#variable-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="bitmap">
<h2>bitmap<a class="headerlink" href="#bitmap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DataBitMap</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gab839c7f1fd448f52f003ab0693f27bb4) CapabilityMap::bitmap</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Bitmaps. For details, see
<a class="reference external" href="softbus.md#gab839c7f1fd448f52f003ab0693f27bb4">DataBitMap</a>.</p>
</div>
<div class="section" id="capability-1-2">
<h2>capability [1/2]<a class="headerlink" href="#capability-1-2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">PublishInfo</span><span class="p">::</span><span class="n">capability</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="service.md">Service</a> publishing capabilities. For details, see
<strong>g_capabilityMap</strong>.</p>
</div>
<div class="section" id="capability-2-2">
<h2>capability [2/2]<a class="headerlink" href="#capability-2-2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">char</span><span class="o">*</span> <span class="n">CapabilityMap</span><span class="p">::</span><span class="n">capability</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Capability. For details, see <strong>g_capabilityMap</strong>.</p>
</div>
<div class="section" id="capabilitydata">
<h2>capabilityData<a class="headerlink" href="#capabilitydata" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unsigned</span> <span class="n">char</span><span class="o">*</span> <span class="n">PublishInfo</span><span class="p">::</span><span class="n">capabilityData</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Capability data for service publishing</p>
</div>
<div class="section" id="datalen">
<h2>dataLen<a class="headerlink" href="#datalen" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unsigned</span> <span class="nb">int</span> <span class="n">PublishInfo</span><span class="p">::</span><span class="n">dataLen</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Maximum length of the capability data for service publishing (2 bytes)</p>
</div>
<div class="section" id="devtype">
<h2>devType<a class="headerlink" href="#devtype" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DeviceType</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga9334bacb3ded964dc3c3367a6b70bcf4) DeviceMap::devType</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumeration of a device type. Only enumerations defined in <strong>g_devMap</strong>
are supported.</p>
</div>
<div class="section" id="freq">
<h2>freq<a class="headerlink" href="#freq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ExchangeFre</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gacf2c77bd7e2c82784078762978123ea3) PublishInfo::freq</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="service.md">Service</a> publishing frequency</p>
</div>
<div class="section" id="key">
<h2>key<a class="headerlink" href="#key" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CommonDeviceKey</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga25be99ffbe88e41f7ce51d2678010254) CommonDeviceInfo::key</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Device information type. For details, see
<a class="reference external" href="softbus.md#ga25be99ffbe88e41f7ce51d2678010254">CommonDeviceKey</a>.</p>
</div>
<div class="section" id="medium">
<h2>medium<a class="headerlink" href="#medium" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ExchanageMedium</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaf5c7c122990f0ab5bd46b9bc47b5868b) PublishInfo::medium</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="service.md">Service</a> publishing medium</p>
</div>
<div class="section" id="mode">
<h2>mode<a class="headerlink" href="#mode" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">PublishInfo</span><span class="p">::</span><span class="n">mode</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="service.md">Service</a> publishing mode, which can be
<a class="reference external" href="softbus.md#gga7369479474cf45e9ca9c0f756473c74fac6dc5925b6fb96b8e7e094dcb16b6ebf">DISCOVER_MODE_PASSIVE</a>
or
<a class="reference external" href="softbus.md#gga7369479474cf45e9ca9c0f756473c74fa9223119d2d3b76ce474ba46fcc2b2cdb">DISCOVER_MODE_ACTIVE</a></p>
</div>
<div class="section" id="onbytesreceived">
<h2>onBytesReceived<a class="headerlink" href="#onbytesreceived" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="p">(</span><span class="o">*</span> <span class="n">ISessionListener</span><span class="p">::</span><span class="n">onBytesReceived</span><span class="p">)</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">,</span> <span class="n">const</span> <span class="n">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="n">dataLen</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Called when data is received.</p>
<p>This function is used to notify that data is received.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1009597054084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p188721995084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p459862056084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1640466112084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr><tr id="row1747869998084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>data</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the data received.</p>
</td></tr><tr id="row1716113810084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>dataLen</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the length of the data received.</p>
</td></tr></tbody></table></div>
<div class="section" id="onpublishfail">
<h2>onPublishFail<a class="headerlink" href="#onpublishfail" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="p">(</span><span class="o">*</span> <span class="n">IPublishCallback</span><span class="p">::</span><span class="n">onPublishFail</span><span class="p">)</span> <span class="p">(</span><span class="nb">int</span> <span class="n">publishId</span><span class="p">,</span> <span class="p">[</span><span class="n">PublishFailReason</span><span class="p">](</span><span class="n">softbus</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga6632fcae1db4a3a13370e3fb49e5e620) reason)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Callback for failed publishing</p>
</div>
<div class="section" id="onpublishsuccess">
<h2>onPublishSuccess<a class="headerlink" href="#onpublishsuccess" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="p">(</span><span class="o">*</span> <span class="n">IPublishCallback</span><span class="p">::</span><span class="n">onPublishSuccess</span><span class="p">)</span> <span class="p">(</span><span class="nb">int</span> <span class="n">publishId</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Callback for successful publishing</p>
</div>
<div class="section" id="onsessionclosed">
<h2>onSessionClosed<a class="headerlink" href="#onsessionclosed" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="p">(</span><span class="o">*</span> <span class="n">ISessionListener</span><span class="p">::</span><span class="n">onSessionClosed</span><span class="p">)</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Called when a session is closed.</p>
<p>This function can be used to release resources related to the session.
You do not need to call
<a class="reference external" href="softbus.md#ga5b0c0b334f387f9c2753146ee0890780">CloseSession</a>.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1757202305084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p58142490084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1722434752084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row553055851084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr></tbody></table></div>
<div class="section" id="onsessionopened">
<h2>onSessionOpened<a class="headerlink" href="#onsessionopened" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span><span class="p">(</span><span class="o">*</span> <span class="n">ISessionListener</span><span class="p">::</span><span class="n">onSessionOpened</span><span class="p">)</span> <span class="p">(</span><span class="nb">int</span> <span class="n">sessionId</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Called when a session is opened.</p>
<p>This function can be used to verify the session or initialize resources
related to the session.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row454081133084826"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p135036345084826"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1595251020084826"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1115500261084826"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>sessionId</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the session ID.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>0</strong> if the session connection is accepted; returns a non-zero
value otherwise (you do not need to call
<a class="reference external" href="softbus.md#ga5b0c0b334f387f9c2753146ee0890780">CloseSession</a> to
close the session).</p>
</div>
<div class="section" id="publishid">
<h2>publishId<a class="headerlink" href="#publishid" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">PublishInfo</span><span class="p">::</span><span class="n">publishId</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="service.md">Service</a> publishing ID</p>
</div>
<div class="section" id="value-1-2">
<h2>value [1/2]<a class="headerlink" href="#value-1-2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">char</span><span class="o">*</span> <span class="n">DeviceMap</span><span class="p">::</span><span class="n">value</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Name of a device type. Only names defined in <strong>g_devMap</strong> are supported.</p>
</div>
<div class="section" id="value-2-2">
<h2>value [2/2]<a class="headerlink" href="#value-2-2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">CommonDeviceInfo</span><span class="p">::</span><span class="n">value</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Content to set</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/api/api-SmartVision-Devices/softbus.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>