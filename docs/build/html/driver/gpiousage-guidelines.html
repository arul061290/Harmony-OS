
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPIO Usage Guidelines &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="gpio-usage-guidelines">
<h1>GPIO Usage Guidelines<a class="headerlink" href="#gpio-usage-guidelines" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-to-use">
<h2>How to Use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<p>The GPIO APIs use the GPIO pin number to specify a pin. <a class="reference external" href="#fig1399416053717">Figure
1</a> shows the general process of using a GPIO.</p>
<div class="line-block">
<div class="line"><strong>Figure 1</strong> Process of using a GPIO</div>
<div class="line"><img alt="image1" src="../_images/process-of-using-a-gpio.png" /></div>
</div>
</div>
<div class="section" id="determining-a-gpio-pin-number">
<h2>Determining a GPIO Pin Number<a class="headerlink" href="#determining-a-gpio-pin-number" title="Permalink to this headline">¶</a></h2>
<p>The method for converting GPIO pin numbers varies according to the GPIO
controller model, parameters, and controller driver of different system
on chips (SoCs).</p>
<ul>
<li><p>Hi3516D V300</p>
<p>A controller manages 12 groups of GPIO pins. Each group contains 8
GPIO pins.</p>
<p>GPIO pin number = GPIO group index (0-11) x Number of GPIO pins in
each group (8) + Offset in the group</p>
<p>Example: GPIO number of GPIO10_3 = 10 x 8 + 3 = 83</p>
</li>
<li><p>Hi3518E V300</p>
<p>A controller manages 10 groups of GPIO pins. Each group contains 10
GPIO pins.</p>
<p>GPIO pin number = GPIO group index (0–9) x Number of GPIO pins in
each group (10) + Offset in the group</p>
<p>Example: GPIO pin number of GPIO7_3 = 7 x 10 + 3 = 73</p>
</li>
</ul>
</div>
<div class="section" id="using-apis-to-operate-gpio-pins">
<h2>Using APIs to Operate GPIO Pins<a class="headerlink" href="#using-apis-to-operate-gpio-pins" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Set the direction for a GPIO pin.</p>
<p>Before performing read/write operations on a GPIO pin, call the
following function to set the direction:</p>
<p>int32_t GpioSetDir(uint16_t gpio, uint16_t dir);</p>
<p><strong>Table 1</strong> Description of GpioSetDir</p>
<table><tbody><tr id="row17311165469"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p53110515616"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p5311454616"><p>Description</p>
</p></td></tr><tr id="row0312151666"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1431265763"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p83121553613"><p>GPIO pin number.</p>
</p></td></tr><tr id="row11312151619"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p173121451664"><p>dir</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p153122520615"><p>Direction to set.</p>
</p></td></tr><tr id="row165937126386"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p83111453613"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p83111151165"><p>Description</p>
</p></td></tr><tr id="row205931212123817"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p18312151463"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p103124517618"><p>The setting is successful.</p>
</p></td></tr><tr id="row75931212153818"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p23121951261"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p153121553610"><p>The setting failed.</p>
</p></td></tr></tbody></table></li>
<li><p>Read or write the level value for a GPIO pin.</p>
<p>To read the level value of a GPIO pin, call the following function:</p>
<p>int32_t GpioRead(uint16_t gpio, uint16_t *val);</p>
<p><strong>Table 2</strong> Description of GpioRead</p>
<table><tbody><tr id="row17348144394816"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p19348164313481"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p134810432488"><p>Description</p>
</p></td></tr><tr id="row134874324814"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p183481437485"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p43481043194819"><p>GPIO pin number.</p>
</p></td></tr><tr id="row20348343144815"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1534864310480"><p>val</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p13689159154815"><p>Pointer to the level value.</p>
</p></td></tr><tr id="row19348043154813"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1234812431480"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p434894334814"><p>Description</p>
</p></td></tr><tr id="row3348184311486"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1934854315487"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p103481943114814"><p>Succeeded in reading the level value.</p>
</p></td></tr><tr id="row23485436482"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1134834310486"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p93491343144815"><p>Failed to read the level value.</p>
</p></td></tr></tbody></table><p>To write the level value for a GPIO pin, call the following function:</p>
<p>int32_t GpioWrite(uint16_t gpio, uint16_t val);</p>
<p><strong>Table 3</strong> Description of GpioWrite</p>
<table><tbody><tr id="row6149720175218"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p18149132005216"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p16149220145216"><p>Description</p>
</p></td></tr><tr id="row16149102014526"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p31495206527"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p1014972085212"><p>GPIO pin number.</p>
</p></td></tr><tr id="row3149112095214"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p1815072011528"><p>val</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p1931618337524"><p>Level value to write.</p>
</p></td></tr><tr id="row1115062015220"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p10150172015218"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p1150192015527"><p>Description</p>
</p></td></tr><tr id="row111503202526"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p171501320205216"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p15150102017522"><p>Succeeded in writing the level value.</p>
</p></td></tr><tr id="row1615002018528"><td class="cellrowborder" valign="top" width="48.120000000000005%"><p id="p15150182045212"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="51.88%"><p id="p13150320105212"><p>Failed to write the level value.</p>
</p></td></tr></tbody></table><p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32_t</span> <span class="n">ret</span><span class="p">;</span>
<span class="n">uint16_t</span> <span class="n">val</span><span class="p">;</span>
<span class="o">/*</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">output</span> <span class="n">direction</span> <span class="k">for</span> <span class="n">GPIO3</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioSetDir</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">GPIO_DIR_OUT</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioSerDir: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/*</span> <span class="n">Write</span> <span class="n">the</span> <span class="n">low</span> <span class="n">level</span> <span class="n">GPIO_VAL_LOW</span> <span class="k">for</span> <span class="n">GPIO3</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioWrite</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">GPIO_VAL_LOW</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioWrite: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/*</span> <span class="n">Set</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">direction</span> <span class="k">for</span> <span class="n">GPIO6</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioSetDir</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">GPIO_DIR_IN</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioSetDir: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/*</span> <span class="n">Read</span> <span class="n">the</span> <span class="n">level</span> <span class="n">value</span> <span class="n">of</span> <span class="n">GPIO6</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioRead</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Set the ISR function for a GPIO pin.</p>
<p>To set the ISR function for a GPIO pin, call the following function:</p>
<p>int32_t GpioSetIrq(uint16_t gpio, uint16_t mode, GpioIrqFunc func,
void *arg);</p>
<p><strong>Table 4</strong> Description of GpioSetIrq</p>
<table><tbody><tr id="row880401834615"><td class="cellrowborder" valign="top" width="48.54%"><p id="p380491819469"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p48041318114619"><p>Description</p>
</p></td></tr><tr id="row19805181812465"><td class="cellrowborder" valign="top" width="48.54%"><p id="p11805101874611"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p6805181818461"><p>GPIO pin number.</p>
</p></td></tr><tr id="row1080541817469"><td class="cellrowborder" valign="top" width="48.54%"><p id="p580541864611"><p>mode</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p380511180463"><p>Interrupt trigger mode.</p>
</p></td></tr><tr id="row83541951134617"><td class="cellrowborder" valign="top" width="48.54%"><p id="p5355351104610"><p>func</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p11355551174619"><p>ISR function to set.</p>
</p></td></tr><tr id="row6593577469"><td class="cellrowborder" valign="top" width="48.54%"><p id="p165985724619"><p>arg</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p559185784619"><p>Pointer to the parameters passed to the ISR function.</p>
</p></td></tr><tr id="row16299193210587"><td class="cellrowborder" valign="top" width="48.54%"><p id="p7804101884614"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p680441818466"><p>Description</p>
</p></td></tr><tr id="row12299632125817"><td class="cellrowborder" valign="top" width="48.54%"><p id="p1180511189465"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p180521812465"><p>The setting is successful.</p>
</p></td></tr><tr id="row029833235815"><td class="cellrowborder" valign="top" width="48.54%"><p id="p1080591814468"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p18805141884611"><p>The setting failed.</p>
</p></td></tr></tbody></table><blockquote>
<div><p><img alt="image2" src="../_images/icon-caution1.gif" /> <strong>CAUTION:</strong> Only one ISR function can be set for a GPIO
pin at a time. If <strong>GpioSetIrq</strong> is called repeatedly, the
previous IRS function will be replaced.</p>
</div></blockquote>
<p>If the ISR function is no longer required, call the following
function to cancel the setting:</p>
<p>int32_t GpioUnSetIrq(uint16_t gpio);</p>
<p><strong>Table 5</strong> Description of GpioUnSetIrq</p>
<table><tbody><tr id="row175721546174317"><td class="cellrowborder" valign="top" width="48.54%"><p id="p16572144694311"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p185721461435"><p>Description</p>
</p></td></tr><tr id="row1257284664318"><td class="cellrowborder" valign="top" width="48.54%"><p id="p95721946144317"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p1557313464439"><p>GPIO pin number.</p>
</p></td></tr><tr id="row1857324618435"><td class="cellrowborder" valign="top" width="48.54%"><p id="p1257344624314"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p457384611439"><p>Description</p>
</p></td></tr><tr id="row357318466439"><td class="cellrowborder" valign="top" width="48.54%"><p id="p1573164616438"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p857384614319"><p>The ISR function is canceled.</p>
</p></td></tr><tr id="row18573124610433"><td class="cellrowborder" valign="top" width="48.54%"><p id="p165731146134311"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="51.459999999999994%"><p id="p6573164613437"><p>Failed to cancel the ISR function.</p>
</p></td></tr></tbody></table><p>After the ISR function is set, call the following function to enable
a GPIO interrupt:</p>
<p>int32_t GpioEnableIrq(uint16_t gpio);</p>
<p><strong>Table 6</strong> Description of GpioEnableIrq</p>
<table><tbody><tr id="row866632919566"><td class="cellrowborder" valign="top" width="50%"><p id="p066642985615"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p566613293568"><p>Description</p>
</p></td></tr><tr id="row19666029165620"><td class="cellrowborder" valign="top" width="50%"><p id="p16660295566"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p1566632916566"><p>GPIO pin number.</p>
</p></td></tr><tr id="row84182176010"><td class="cellrowborder" valign="top" width="50%"><p id="p1566652915566"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p966642917562"><p>Description</p>
</p></td></tr><tr id="row154188171403"><td class="cellrowborder" valign="top" width="50%"><p id="p1866610292563"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p13666182975613"><p>The GPIO interrupt is enabled.</p>
</p></td></tr><tr id="row1041891720012"><td class="cellrowborder" valign="top" width="50%"><p id="p766642911562"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p1566652995613"><p>Failed to enable a GPIO interrupt.</p>
</p></td></tr></tbody></table><blockquote>
<div><p><img alt="image3" src="../_images/icon-caution1.gif" /> <strong>CAUTION:</strong> The configured ISR function can be responded
only after the ISR function is enabled.</p>
</div></blockquote>
<p>Use the following function to disable the GPIO interrupt:</p>
<p>int32_t GpioDisableIrq(uint16_t gpio);</p>
<p><strong>Table 7</strong> Description of GpioDisableIrq</p>
<table><tbody><tr id="row186684413116"><td class="cellrowborder" valign="top" width="50%"><p id="p866844916"><p>Parameter</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p46681413119"><p>Description</p>
</p></td></tr><tr id="row4668243113"><td class="cellrowborder" valign="top" width="50%"><p id="p46681141919"><p>gpio</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p136681241311"><p>GPIO pin number.</p>
</p></td></tr><tr id="row066884412"><td class="cellrowborder" valign="top" width="50%"><p id="p566824015"><p>Return Value</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p1766974515"><p>Description</p>
</p></td></tr><tr id="row156694410112"><td class="cellrowborder" valign="top" width="50%"><p id="p14669141214"><p>0</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p1266934818"><p>The GPIO interrupt is disabled.</p>
</p></td></tr><tr id="row176691543117"><td class="cellrowborder" valign="top" width="50%"><p id="p7669941716"><p>Negative value</p>
</p></td><td class="cellrowborder" valign="top" width="50%"><p id="p4669164219"><p>Failed to disable the GPIO interrupt.</p>
</p></td></tr></tbody></table><p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="n">ISR</span> <span class="n">function</span> <span class="o">*/</span>
<span class="o">*/</span>
<span class="n">int32_t</span> <span class="n">MyCallBackFunc</span><span class="p">(</span><span class="n">uint16_t</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">HDF_LOGI</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: gpio:</span><span class="si">%u</span><span class="s2"> interrupt service in! data=%p</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="vm">__func__</span><span class="p">,</span> <span class="n">gpio</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">int32_t</span> <span class="n">ret</span><span class="p">;</span>
<span class="o">/*</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">ISR</span> <span class="n">function</span> <span class="n">to</span> <span class="n">MyCallBackFunc</span><span class="p">,</span> <span class="n">the</span> <span class="n">parameter</span> <span class="n">to</span> <span class="n">NULL</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">interrupt</span> <span class="n">trigger</span> <span class="n">mode</span> <span class="n">to</span> <span class="n">rising</span> <span class="n">edge</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioSetIrq</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">OSAL_IRQF_TRIGGER_RISING</span><span class="p">,</span> <span class="n">MyCallBackFunc</span><span class="p">,</span> <span class="n">NULL</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioSetIrq: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">/*</span> <span class="n">Enable</span> <span class="n">an</span> <span class="n">interrupt</span> <span class="k">for</span> <span class="n">GPIO3</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioEnableIrq</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioEnableIrq: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">/*</span> <span class="n">Disable</span> <span class="n">the</span> <span class="n">interrupt</span> <span class="k">for</span> <span class="n">GPIO3</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioDisableIrq</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioDisableIrq: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">/*</span> <span class="n">Cancel</span> <span class="n">the</span> <span class="n">ISR</span> <span class="n">function</span> <span class="k">for</span> <span class="n">GPIO3</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GpioUnSetIrq</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HDF_LOGE</span><span class="p">(</span><span class="s2">&quot;GpioUnSetIrq: failed, ret </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/driver/gpiousage-guidelines.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>