
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magic Key Usage &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="magic-key-usage">
<h1>Magic Key Usage<a class="headerlink" href="#magic-key-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="when-to-use">
<h2>When to Use<a class="headerlink" href="#when-to-use" title="Permalink to this headline">¶</a></h2>
<p>When the system does not respond, you can use the magic key function to
check whether the system is locked and interrupted (the magic key also
does not respond) or view the system task running status.</p>
<p>If the interrupt is responded, you can use the magic key to check the
CPU usage (<strong>cpup</strong>) in the task information to find out the task that
occupies the CPU for a long period of time and causes other tasks in the
system not to respond. (Generally, the high-priority tasks always
preempt the CPU and cause the low-priority tasks not to respond.)</p>
</div>
<div class="section" id="how-to-use">
<h2>How to Use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Configure macro <strong>LOSCFG_ENABLE_MAGICKEY</strong>.</p></li>
</ol>
<p>The magic key depends on the <strong>LOSCFG_ENABLE_MAGICKEY</strong> macro. To use
the magic key, enable the <strong>Enable MAGIC KEY</strong> configuration item using
<strong>menuconfig</strong>.</p>
<p>Debug —&gt; Enable MAGIC KEY</p>
<p>If this configuration item is disabled, the magic key is invalid.</p>
<blockquote>
<div><p><img alt="image1" src="../_images/icon-note4.gif" /> <strong>NOTE:</strong> 1. In <strong>menuconfig</strong>, you can move the cursor to
<strong>LOSCFG_ENABLE_MAGICKEY</strong> and enter a question mark (?) to view the
help information.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Press <strong>Ctrl+R</strong> to enable the magic key detection function.</p></li>
</ol>
<p>When the UART or USB-to-virtual serial port is connected, press
<strong>Ctrl+R</strong> to enable the magic key detection function. The message
“Magic key on” is displayed. After you press <strong>Ctrl+R</strong> again, the magic
key detection function is disabled, and message “Magic key off” is
displayed. The functions of the magic key are as follows:</p>
<ul class="simple">
<li><p><strong>Ctrl+Z</strong>: help key, which is used to display the brief introduction
to related magic keys.</p></li>
<li><p><strong>Ctrl+T</strong>: displays task information.</p></li>
<li><p><strong>Ctrl+P</strong>: The system proactively enters the panic state. After the
panic-related information is printed, the system is suspended.</p></li>
<li><p><strong>Ctrl+E</strong>: The system checks the integrity of the memory pool. If an
error is detected, the system displays an error message. If no error
is detected, the system displays “system memcheck over, all passed!”.</p></li>
</ul>
<blockquote>
<div><p><img alt="image2" src="../_images/icon-notice2.gif" /> <strong>NOTICE:</strong> When the magic key detection function is enabled
and special characters need to be entered through the UART or
USB-to-virtual serial port, ensure that the special characters are
not the same as the magic key values. Otherwise, the magic key may be
triggered by mistake, which may cause errors in the original design.</p>
</div></blockquote>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/kernel/magic-key-usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>