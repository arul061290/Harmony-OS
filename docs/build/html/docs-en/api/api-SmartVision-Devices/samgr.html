
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Samgr &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="samgr">
<h1>Samgr<a class="headerlink" href="#samgr" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Manages system capabilities.</p>
<p>This module provides the development framework base of the
service-oriented architecture (SOA). You can develop your own abilities
based on the Samgr development framework. This module provides basic
models of services, features, and functions, and registration and
discovery capabilities.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1087012152084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p84099068084827"><p>File Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1837641440084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1713691753084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2066576351084827"><p>common.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p314736075084827"><p>Provides common objects and functions for Samgr and external modules.</p>
</p></td></tr><tr id="row1754271254084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1643812094084827"><p>feature.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p433535044084827"><p>Defines the base class of a feature.</p>
</p></td></tr><tr id="row865625999084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1197777375084827"><p>iunknown.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p975947673084827"><p>Provides the base class and default implementation for external
functions of system capabilities.</p>
</p></td></tr><tr id="row1874096405084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1289428444084827"><p>message.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p268754356084827"><p>Provides message communication APIs that help you to implement
asynchronous functions of IUnknown.</p>
</p></td></tr><tr id="row1625120694084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1149759562084827"><p>samgr_lite.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p489325550084827"><p>Manages system capabilities.</p>
</p></td></tr><tr id="row1096435911084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1331908262084827"><p>service.h</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1585358557084827"><p>Provides basic types and constants of services.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1698546300084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1745980117084827"><p>Data Structure Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2048833202084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1023732016084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1116587178084827"><p>SimpleVector</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p153640798084827"><p>Defines the simplified vector class, which is extended by four elements.</p>
</p></td></tr><tr id="row711993890084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p666731011084827"><p>Feature</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1884737924084827"><p>Defines the base class of a feature.</p>
</p></td></tr><tr id="row195347723084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1908407212084827"><p>IUnknown</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p866110407084827"><p>Defines the IUnknown class.</p>
</p></td></tr><tr id="row988905304084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p376570300084827"><p>IUnknownEntry</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1995337922084827"><p>Defines the IUnknown implementation class.</p>
</p></td></tr><tr id="row683501105084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1168452740084827"><p>Identity</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p262697980084827"><p>Identifies a service and feature.</p>
</p></td></tr><tr id="row928744412084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p905685358084827"><p>Request</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1479556180084827"><p>Defines a request.</p>
</p></td></tr><tr id="row1108606448084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1771956533084827"><p>Response</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p115748867084827"><p>Defines a response.</p>
</p></td></tr><tr id="row1463987609084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1160332745084827"><p>SamgrLite</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p829381634084827"><p>Represents the system ability management class.</p>
</p></td></tr><tr id="row288517771084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1587397443084827"><p>TaskConfig</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1407148805084827"><p>Defines task configurations for a service.</p>
</p></td></tr><tr id="row1921229624084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2017029999084827"><p>Service</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p967484135084827"><p>Indicates the basic type of a service.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row192672235084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p627420659084827"><p>Macro Name and Value</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p509104918084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1082939270084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1509390940084827"><p>GET_OFFSIZE(T, member) (long)((char <em>)&amp;(((T</em>)(0))-&gt;member))</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1684394854084827"><p>Calculates the offset of the member in the T type.</p>
</p></td></tr><tr id="row95827344084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2092111564084827"><p>INHERIT_FEATURE</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p106908795084827"><p>Inherits from the macro of the feature class.</p>
</p></td></tr><tr id="row1200693528084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p685816324084827"><p>DEFAULT_VERSION 0x20</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1600697705084827"><p>Defines the default IUnknown version. You can customize the version.</p>
</p></td></tr><tr id="row909047461084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1662386054084827"><p>INHERIT_IUNKNOWN</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1098342477084827"><p>Defines the macro for inheriting the IUnknown interface.</p>
</p></td></tr><tr id="row1145592201084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1172399949084827"><p>INHERIT_IUNKNOWNENTRY(T)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1117728441084827"><p>Defines the macro for inheriting the classes that implement the IUnknown
interface.</p>
</p></td></tr><tr id="row1454447143084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1703528301084827"><p>DEFAULT_IUNKNOWN_IMPL</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p557254105084827"><p>Defines the default marco for initializing the IUnknown interface.</p>
</p></td></tr><tr id="row1588891837084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1107047548084827"><p>IUNKNOWN_ENTRY_BEGIN(version)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p973308134084827"><p>Defines the macro for initializing the classes that implement the
IUnknown interface.</p>
</p></td></tr><tr id="row549404123084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p331862266084827"><p>IUNKNOWN_ENTRY_END }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p947806832084827"><p>IUnknown Defines the end macro for initializing the IUnknown
implementation object.</p>
</p></td></tr><tr id="row998359490084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1102108245084827"><p>GET_IUNKNOWN(T) (IUnknown *)(&amp;((T).iUnknown))</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p401512978084827"><p>Obtains the pointer of the IUnknown interface object from the subclass
object T (generic macro) of the IUnknown implementation class.</p>
</p></td></tr><tr id="row882611732084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1519401640084827"><p>BOOTSTRAP_SERVICE “Bootstrap”</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1012846381084827"><p>Starts a bootstrap service, which is used by samgr and implemented by
system service developers.</p>
</p></td></tr><tr id="row1285116967084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1723087974084827"><p>INHERIT_SERVICE</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p65663916084827"><p>Indicates the macro used to inherit the members from the service class.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row2029678779084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p216805329084827"><p>Typedef Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1354420624084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row817170725084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p614836901084827"><p>Vector</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p327587993084827"><p>typedef struct SimpleVector</p>
</p><p id="p1991510650084827"><p>Defines the simplified vector class, which is extended by four elements.</p>
</p></td></tr><tr id="row965708970084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1610578805084827"><p>IUnknownEntry</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p359905373084827"><p>typedef struct IUnknownEntry</p>
</p><p id="p675232559084827"><p>Defines the IUnknown implementation class.</p>
</p></td></tr><tr id="row1564921056084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p823341877084827"><p>Handler) (const Request <em>request, const Response</em>response)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p415707742084827"><p>typedef void(*</p>
</p><p id="p1306959744084827"><p>Handles asynchronous responses.</p>
</p></td></tr><tr id="row22309771084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p828594437084827"><p>BootMessage</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1374165009084827"><p>typedef enum BootMessage</p>
</p><p id="p1555042967084827"><p>Enumerates the IDs of the message to be processed for starting the
bootstrap service.</p>
</p></td></tr><tr id="row211431122084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p793721045084827"><p>SamgrLite</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p77118183084827"><p>typedef struct SamgrLite</p>
</p><p id="p1551632355084827"><p>Represents the system ability management class.</p>
</p></td></tr><tr id="row135554709084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1630992824084827"><p>TaskType</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1481027735084827"><p>typedef enum TaskType</p>
</p><p id="p1291725831084827"><p>Enumerates task types.</p>
</p></td></tr><tr id="row525531971084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p973646178084827"><p>SpecifyTag</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1435278756084827"><p>typedef enum SpecifyTag</p>
</p><p id="p632009839084827"><p>Specifies the tag for the task shared by multiple services.</p>
</p></td></tr><tr id="row1212975967084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p5705428084827"><p>TaskPriority</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p605663935084827"><p>typedef enum TaskPriority</p>
</p><p id="p1342982091084827"><p>Enumerates task priority.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="enumerations">
<h2>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1153572712084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p723242208084827"><p>Enumeration Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1757239055084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row572077164084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p440476002084827"><p>BootMessage { BOOT_SYS_COMPLETED, BOOT_APP_COMPLETED, BOOT_REG_SERVICE,
BOOTSTRAP_BUTT }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p611276245084827"><p>Enumerates the IDs of the message to be processed for starting the
bootstrap service.</p>
</p></td></tr><tr id="row2140007566084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1746629423084827"><p>TaskType { SHARED_TASK = 0, SINGLE_TASK = 1, SPECIFIED_TASK = 2, NO_TASK
= 0xFF }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p797541715084827"><p>Enumerates task types.</p>
</p></td></tr><tr id="row1670420171084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1238013101084827"><p>SpecifyTag { LEVEL_HIGH = 0, LEVEL_MIDDLE = 1, LEVEL_LOW = 2,
LEVEL_CUSTOM_BEGIN }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1021770324084827"><p>Specifies the tag for the task shared by multiple services.</p>
</p></td></tr><tr id="row1507141821084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p563076420084827"><p>TaskPriority { PRI_LOW = 9, PRI_BELOW_NORMAL = 16, PRI_NORMAL = 24,
PRI_ABOVE_NORMAL = 32, PRI_BUTT = 39 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1452331322084827"><p>Enumerates task priority.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1439862156084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p854183053084827"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2023589296084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1061272160084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1257512488084827"><p>VECTOR_Make (VECTOR_Key key, VECTOR_Compare compare)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1802752286084827"><p>Vector</p>
</p><p id="p1439730560084827"><p>Creates or initializes a vector object.</p>
</p></td></tr><tr id="row621226815084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p645607473084827"><p>VECTOR_Clear (Vector *vector)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1953923745084827"><p>void</p>
</p><p id="p1752298978084827"><p>Destruct a vector object.</p>
</p></td></tr><tr id="row748270231084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1381811827084827"><p>VECTOR_Add (Vector <em>vector, void</em>element)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1332407263084827"><p>int16</p>
</p><p id="p422713342084827"><p>Adds an element to the vector.</p>
</p></td></tr><tr id="row486392568084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1875905902084827"><p>VECTOR_Size (Vector *vector)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1079502690084827"><p>int16</p>
</p><p id="p1421443057084827"><p>Obtains the number of elements in the vector, including elements that
have been set to NULL.</p>
</p></td></tr><tr id="row1914668881084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p18765677084827"><p>VECTOR_Num (Vector *vector)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1665603171084827"><p>int16</p>
</p><p id="p1124612860084827"><p>Obtains the number of valid elements in the vector, excluding elements
that have been set to NULL.</p>
</p></td></tr><tr id="row145787749084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p46960605084827"><p>VECTOR_At (Vector *vector, int16 index)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p304258594084827"><p>void *</p>
</p><p id="p534982227084827"><p>Obtains the element at a specified position.</p>
</p></td></tr><tr id="row440386990084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p386891961084827"><p>VECTOR_Swap (Vector <em>vector, int16 index, void</em>element)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p378248941084827"><p>void *</p>
</p><p id="p1693948370084827"><p>Swaps the element at a specified position in a vector with another
element.</p>
</p></td></tr><tr id="row995021145084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p632250178084827"><p>VECTOR_Find (Vector <em>vector, const void</em>element)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p117168994084827"><p>int16</p>
</p><p id="p372815327084827"><p>Checks the position of an element.</p>
</p></td></tr><tr id="row288414522084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1242227579084827"><p>VECTOR_FindByKey (Vector <em>vector, const void</em>key)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p878633409084827"><p>int16</p>
</p><p id="p386255529084827"><p>Checks the position of the element with a specified key.</p>
</p></td></tr><tr id="row1210504086084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p328683935084827"><p>IUNKNOWN_AddRef (IUnknown *iUnknown)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1582389987084827"><p>int</p>
</p><p id="p1761583135084827"><p>Increments the reference count in this IUnknown interface.</p>
</p></td></tr><tr id="row1115671376084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p49985063084827"><p>IUNKNOWN_QueryInterface (IUnknown *iUnknown, int ver, void **target)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1414018416084827"><p>int</p>
</p><p id="p1519927568084827"><p>Queries the IUnknown interfaces of a specified version (downcasting).</p>
</p></td></tr><tr id="row455961907084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1104491486084827"><p>IUNKNOWN_Release (IUnknown *iUnknown)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1620233973084827"><p>int</p>
</p><p id="p806651360084827"><p>Releases a reference to an IUnknown interface that is no longer used.</p>
</p></td></tr><tr id="row1937784697084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p439900242084827"><p>SAMGR_SendRequest (const Identity <em>identity, const Request</em>request,
Handler handler)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1946689916084827"><p>int32</p>
</p><p id="p339351578084827"><p>Sends a request to a service or feature of a specified identity.</p>
</p></td></tr><tr id="row1100704540084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p7826961084827"><p>SAMGR_SendSharedRequest (const Identity <em>identity, const
Request</em>request, uint32 *token, Handler handler)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p28457000084827"><p>uint32 *</p>
</p><p id="p1146004714084827"><p>Sends a request to multiple services or features to save memory.</p>
</p></td></tr><tr id="row1361687422084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1376160620084827"><p>SAMGR_SendSharedDirectRequest (const Identity <em>id, const Request</em>req,
const Response *resp, uint32 **ref, Handler handler)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1229809285084827"><p>int32</p>
</p><p id="p750163943084827"><p>Sends a request and response of a caller to the feature thread. The
handler is directly called to process the request and response without
using the message processing functions. (Customized function for the
broadcast service)</p>
</p></td></tr><tr id="row38756340084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1407379035084827"><p>SAMGR_SendResponse (const Request <em>request, const Response</em>response)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p901733457084827"><p>int32</p>
</p><p id="p150418359084827"><p>Sends a response after processing a request.</p>
</p></td></tr><tr id="row1743884511084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p570781978084827"><p>SAMGR_SendResponseByIdentity (const Identity <em>id, const
Request</em>request, const Response *response)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p379415117084827"><p>int32</p>
</p><p id="p1352661404084827"><p>Sends a response to a specified service or feature after processing the
original request. (Customized function for bootstrap)</p>
</p></td></tr><tr id="row1640690991084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1332161064084827"><p>SAMGR_GetInstance (void)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1310924113084827"><p>SamgrLite *</p>
</p><p id="p1412454563084827"><p>Obtains the singleton Samgr instance.</p>
</p></td></tr><tr id="row82324249084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p683608978084827"><p>SAMGR_Bootstrap (void)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1910043933084827"><p>void</p>
</p><p id="p1004388570084827"><p>Starts system services and features.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="details">
<h2><strong>Details</strong><a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="macro-definition-documentation">
<h2><strong>Macro Definition Documentation</strong><a class="headerlink" href="#macro-definition-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="default-iunknown-impl">
<h2>DEFAULT_IUNKNOWN_IMPL<a class="headerlink" href="#default-iunknown-impl" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define DEFAULT_IUNKNOWN_IMPL</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="o">.</span><span class="n">QueryInterface</span> <span class="o">=</span> <span class="p">[</span><span class="n">IUNKNOWN_QueryInterface</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gac857d12648500c7dab1cb43e85ae2ed4), \</span>

 <span class="o">.</span><span class="n">AddRef</span> <span class="o">=</span> <span class="p">[</span><span class="n">IUNKNOWN_AddRef</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga9abef49ec89bf913c3bed03faf478c1e), \</span>

 <span class="o">.</span><span class="n">Release</span> <span class="o">=</span> <span class="p">[</span><span class="n">IUNKNOWN_Release</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gabd462f8a5e6460a68760cd0719982296)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the default marco for initializing the
<a class="reference external" href="iunknown.md">IUnknown</a> interface.</p>
<p>When creating a subclass object of the <a class="reference external" href="iunknown.md">IUnknown</a>
interface, you can use this macro to initialize members of the
<a class="reference external" href="iunknown.md">IUnknown</a> interface to their default values.</p>
</div>
<div class="section" id="default-version">
<h2>DEFAULT_VERSION<a class="headerlink" href="#default-version" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define DEFAULT_VERSION   0x20</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the default <a class="reference external" href="iunknown.md">IUnknown</a> version. You can
customize the version.</p>
<p>The <a class="reference external" href="iunknown.md">IUnknown</a> interface of the default version can be
called only in the current process. Inter-process communication is not
supported.</p>
</div>
<div class="section" id="get-iunknown">
<h2>GET_IUNKNOWN<a class="headerlink" href="#get-iunknown" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define GET_IUNKNOWN( T)   ([IUnknown](iunknown.md) *)(&amp;((T).iUnknown))</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the pointer of the <a class="reference external" href="iunknown.md">IUnknown</a> interface object
from the subclass object T (generic macro) of the
<a class="reference external" href="iunknown.md">IUnknown</a> implementation class.</p>
<p>Use this macro when registering <a class="reference external" href="iunknown.md">IUnknown</a> interfaces
with Samgr so that you can obtain the interfaces from the subclass
objects of different <a class="reference external" href="iunknown.md">IUnknown</a> implementation classes.</p>
</div>
<div class="section" id="get-offsize">
<h2>GET_OFFSIZE<a class="headerlink" href="#get-offsize" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define GET_OFFSIZE( T,  member )   (long)((char *)&amp;(((T *)(0))-&gt;member))</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Calculates the offset of the member in the T type.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row941415986084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p117027420084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1589556434084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1443878669084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>Indicates</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>the T type.</p>
</td></tr><tr id="row157396553084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>member</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the name of the T member variable.</p>
</td></tr></tbody></table></div>
<div class="section" id="inherit-feature">
<h2>INHERIT_FEATURE<a class="headerlink" href="#inherit-feature" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define INHERIT_FEATURE</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">GetName</span><span class="p">)([</span><span class="n">Feature</span><span class="p">](</span><span class="n">feature</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">feature</span><span class="p">);</span> \

 <span class="n">void</span> <span class="p">(</span><span class="o">*</span><span class="n">OnInitialize</span><span class="p">)([</span><span class="n">Feature</span><span class="p">](</span><span class="n">feature</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">feature</span><span class="p">,</span> <span class="p">[</span><span class="n">Service</span><span class="p">](</span><span class="n">service</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="n">identity</span><span class="p">);</span> \

 <span class="n">void</span> <span class="p">(</span><span class="o">*</span><span class="n">OnStop</span><span class="p">)([</span><span class="n">Feature</span><span class="p">](</span><span class="n">feature</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">feature</span><span class="p">,</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="n">identity</span><span class="p">);</span> \

 <span class="n">BOOL</span> <span class="p">(</span><span class="o">*</span><span class="n">OnMessage</span><span class="p">)([</span><span class="n">Feature</span><span class="p">](</span><span class="n">feature</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">feature</span><span class="p">,</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Inherits from the macro of the feature class.</p>
<p>This macro provides the capability of inheriting the feature lifecycle.</p>
</div>
<div class="section" id="inherit-iunknown">
<h2>INHERIT_IUNKNOWN<a class="headerlink" href="#inherit-iunknown" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define INHERIT_IUNKNOWN</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="nb">int</span> <span class="p">(</span><span class="o">*</span><span class="n">QueryInterface</span><span class="p">)([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">iUnknown</span><span class="p">,</span> <span class="nb">int</span> <span class="n">version</span><span class="p">,</span> <span class="n">void</span> <span class="o">**</span><span class="n">target</span><span class="p">);</span> \

 <span class="nb">int</span> <span class="p">(</span><span class="o">*</span><span class="n">AddRef</span><span class="p">)([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">iUnknown</span><span class="p">);</span> \

 <span class="nb">int</span> <span class="p">(</span><span class="o">*</span><span class="n">Release</span><span class="p">)([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">iUnknown</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the macro for inheriting the <a class="reference external" href="iunknown.md">IUnknown</a>
interface.</p>
<p>When developing a subclass of the <a class="reference external" href="iunknown.md">IUnknown</a> class, you
can use this macro to inherit the structures of the
<a class="reference external" href="iunknown.md">IUnknown</a> interface.</p>
</div>
<div class="section" id="inherit-iunknownentry">
<h2>INHERIT_IUNKNOWNENTRY<a class="headerlink" href="#inherit-iunknownentry" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define INHERIT_IUNKNOWNENTRY( T)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="n">uint16</span> <span class="n">ver</span><span class="p">;</span> \

 <span class="n">int16</span> <span class="n">ref</span><span class="p">;</span> \

 <span class="n">T</span> <span class="n">iUnknown</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the macro for inheriting the classes that implement the
<a class="reference external" href="iunknown.md">IUnknown</a> interface.</p>
<p>When developing a subclass of a class that implements the
<a class="reference external" href="iunknown.md">IUnknown</a> interface, you can use this macro to inherit
the structures of the <a class="reference external" href="iunknown.md">IUnknown</a> implementation class.</p>
</div>
<div class="section" id="inherit-service">
<h2>INHERIT_SERVICE<a class="headerlink" href="#inherit-service" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define INHERIT_SERVICE</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">GetName</span><span class="p">)([</span><span class="n">Service</span><span class="p">](</span><span class="n">service</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">service</span><span class="p">);</span> \

 <span class="n">BOOL</span> <span class="p">(</span><span class="o">*</span><span class="n">Initialize</span><span class="p">)([</span><span class="n">Service</span><span class="p">](</span><span class="n">service</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">service</span><span class="p">,</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="n">identity</span><span class="p">);</span> \

 <span class="n">BOOL</span> <span class="p">(</span><span class="o">*</span><span class="n">MessageHandle</span><span class="p">)([</span><span class="n">Service</span><span class="p">](</span><span class="n">service</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">service</span><span class="p">,</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">request</span><span class="p">);</span> \

 <span class="n">TaskConfig</span> <span class="p">(</span><span class="o">*</span><span class="n">GetTaskConfig</span><span class="p">)([</span><span class="n">Service</span><span class="p">](</span><span class="n">service</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">service</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Indicates the macro used to inherit the members from the <strong>service</strong>
class.</p>
<p>This macro provides the capability of inheriting the lifecycle functions
of the <strong>service</strong> class. You can use this macro to customize the
service structure.</p>
</div>
<div class="section" id="iunknown-entry-begin">
<h2>IUNKNOWN_ENTRY_BEGIN<a class="headerlink" href="#iunknown-entry-begin" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define IUNKNOWN_ENTRY_BEGIN( version)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span><span class="p">:</span> <span class="o">.</span><span class="n">ver</span> <span class="o">=</span> <span class="p">(</span><span class="n">version</span><span class="p">),</span> \

 <span class="o">.</span><span class="n">ref</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> \

 <span class="o">.</span><span class="n">iUnknown</span> <span class="o">=</span> <span class="p">{</span> \

 <span class="n">DEFAULT_IUNKNOWN_IMPL</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the macro for initializing the classes that implement the
<a class="reference external" href="iunknown.md">IUnknown</a> interface.</p>
<p>When creating a subclass object of a class that implements the
<a class="reference external" href="iunknown.md">IUnknown</a> interface, you can use this macro to
initialize members of the <a class="reference external" href="iunknown.md">IUnknown</a> implementation
class to their default values. You need to add the initialization of the
customized member variable.</p>
</div>
<div class="section" id="iunknown-entry-end">
<h2>IUNKNOWN_ENTRY_END<a class="headerlink" href="#iunknown-entry-end" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define IUNKNOWN_ENTRY_END   }</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p><a class="reference external" href="iunknown.md">IUnknown</a> Defines the end macro for initializing the
<a class="reference external" href="iunknown.md">IUnknown</a> implementation object.</p>
<p>This macro is used when a subclass object of the
<a class="reference external" href="iunknown.md">IUnknown</a> implementation class is initialized.</p>
</div>
<div class="section" id="typedef-documentation">
<h2><strong>Typedef Documentation</strong><a class="headerlink" href="#typedef-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="bootmessage">
<h2>BootMessage<a class="headerlink" href="#bootmessage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">[</span><span class="n">BootMessage</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaf39e482610dca95f0dba85613755eb40) [BootMessage](samgr.md#gaf39e482610dca95f0dba85613755eb40)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates the IDs of the message to be processed for starting the
bootstrap service.</p>
<p>This function is implemented by developers of the system service.
Messages sent to the bootstrap service when Samgr is started.</p>
</div>
<div class="section" id="handler">
<h2>Handler<a class="headerlink" href="#handler" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">void</span><span class="p">(</span><span class="o">*</span> <span class="n">Handler</span><span class="p">)</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">request</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Response</span><span class="p">](</span><span class="n">response</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Handles asynchronous responses.</p>
<p>This function will be used when a service or feature uses
<a class="reference external" href="iunknown.md">IUnknown</a> to send a request. If the caller is a
feature, this function is used to handle the response that is sent after
the feature processes a request. If the caller is a service, <strong>Handler</strong>
will run in the service thread.</p>
</div>
<div class="section" id="iunknownentry">
<h2>IUnknownEntry<a class="headerlink" href="#iunknownentry" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">IUnknownEntry</span><span class="p">](</span><span class="n">iunknownentry</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">IUnknownEntry</span><span class="p">](</span><span class="n">iunknownentry</span><span class="o">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the <a class="reference external" href="iunknown.md">IUnknown</a> implementation class.</p>
<p>You need to inherit this structure when developing a subclass of the
<a class="reference external" href="iunknown.md">IUnknown</a> implementation class. Each
<a class="reference external" href="iunknown.md">IUnknown</a> interface must correspond to one or more
<a class="reference external" href="iunknown.md">IUnknown</a> implementation classes.</p>
</div>
<div class="section" id="samgrlite">
<h2>SamgrLite<a class="headerlink" href="#samgrlite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">SamgrLite</span><span class="p">](</span><span class="n">samgrlite</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">SamgrLite</span><span class="p">](</span><span class="n">samgrlite</span><span class="o">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Represents the system ability management class.</p>
<p>This class is used for registering and discovering services, features,
and functions.</p>
</div>
<div class="section" id="specifytag">
<h2>SpecifyTag<a class="headerlink" href="#specifytag" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">[</span><span class="n">SpecifyTag</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga704a59a45a705ef7a15d16e3cab8c1b0) [SpecifyTag](samgr.md#ga704a59a45a705ef7a15d16e3cab8c1b0)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Specifies the tag for the task shared by multiple services.</p>
<p>These enumerations are used for specifying a multi-service sharing task.</p>
</div>
<div class="section" id="taskpriority">
<h2>TaskPriority<a class="headerlink" href="#taskpriority" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">[</span><span class="n">TaskPriority</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaee057e5f06a7b2533e6f58bde34d15fa) [TaskPriority](samgr.md#gaee057e5f06a7b2533e6f58bde34d15fa)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates task priority.</p>
<p>These enumerations are used for configuring the task priority. The valid
range of the priority is (9, 39).</p>
</div>
<div class="section" id="tasktype">
<h2>TaskType<a class="headerlink" href="#tasktype" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">[</span><span class="n">TaskType</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga026844c14ab62f42a2e19b54d622609b) [TaskType](samgr.md#ga026844c14ab62f42a2e19b54d622609b)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates task types.</p>
<p>These enumerations are used for configuring the task type.</p>
</div>
<div class="section" id="vector">
<h2>Vector<a class="headerlink" href="#vector" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">[</span><span class="n">SimpleVector</span><span class="p">](</span><span class="n">simplevector</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="p">[</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Defines the simplified vector class, which is extended by four elements.</p>
<p>This class is applicable to the C language development scenario where
the data volume is small and dynamic expansion is required.</p>
</div>
<div class="section" id="enumeration-type-documentation">
<h2><strong>Enumeration Type Documentation</strong><a class="headerlink" href="#enumeration-type-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="bootmessage-1">
<span id="id1"></span><h2>BootMessage<a class="headerlink" href="#bootmessage-1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">BootMessage</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaf39e482610dca95f0dba85613755eb40)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates the IDs of the message to be processed for starting the
bootstrap service.</p>
<p>This function is implemented by developers of the system service.
Messages sent to the bootstrap service when Samgr is started.</p>
<table><thead align="left"><tr id="row1826895657084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1246190226084827"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p467267960084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row664845097084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BOOT_SYS_COMPLETED</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1985724055084827"><p>Message indicating that the core system service is initialized</p>
</p></td></tr><tr id="row63182364084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BOOT_APP_COMPLETED</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1662024056084827"><p>Message indicating that the system and application-layer services are
initialized</p>
</p></td></tr><tr id="row897765696084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BOOT_REG_SERVICE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2052764445084827"><p>Message indicating service registration during running</p>
</p></td></tr><tr id="row547584164084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>BOOTSTRAP_BUTT</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p792013247084827"><p>Maximum number of message IDs</p>
</p></td></tr></tbody></table></div>
<div class="section" id="specifytag-1">
<span id="id2"></span><h2>SpecifyTag<a class="headerlink" href="#specifytag-1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">SpecifyTag</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga704a59a45a705ef7a15d16e3cab8c1b0)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Specifies the tag for the task shared by multiple services.</p>
<p>These enumerations are used for specifying a multi-service sharing task.</p>
<table><thead align="left"><tr id="row1111592708084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p607493626084827"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p932022712084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1306264174084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>LEVEL_HIGH</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1708317248084827"><p>Preset tag</p>
</p></td></tr><tr id="row1259051043084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>LEVEL_MIDDLE</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p961934448084827"><p>Preset tag</p>
</p></td></tr><tr id="row1091538983084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>LEVEL_LOW</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1833340155084827"><p>Preset tag</p>
</p></td></tr><tr id="row759440413084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>LEVEL_CUSTOM_BEGIN</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p445366086084827"><p>Customized tag</p>
</p></td></tr></tbody></table></div>
<div class="section" id="taskpriority-1">
<span id="id3"></span><h2>TaskPriority<a class="headerlink" href="#taskpriority-1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">TaskPriority</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#gaee057e5f06a7b2533e6f58bde34d15fa)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates task priority.</p>
<p>These enumerations are used for configuring the task priority. The valid
range of the priority is (9, 39).</p>
<table><thead align="left"><tr id="row1081326012084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1241923903084827"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p489196703084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row668870189084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PRI_LOW</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p291174510084827"><p>Low-priority: (9, 15)</p>
</p></td></tr><tr id="row1122742308084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PRI_BELOW_NORMAL</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1520339079084827"><p>Lower than the normal priority: [16, 23)</p>
</p></td></tr><tr id="row2082342429084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PRI_NORMAL</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p672626925084827"><p>Normal priority: [24, 31). The log service is available.</p>
</p></td></tr><tr id="row350940836084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PRI_ABOVE_NORMAL</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p449731203084827"><p>Higher than the normal priority: [32, 39). The communication service is
available.</p>
</p></td></tr><tr id="row1601389495084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>PRI_BUTT</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p3270449084827"><p>Upper limit of the priority</p>
</p></td></tr></tbody></table></div>
<div class="section" id="tasktype-1">
<span id="id4"></span><h2>TaskType<a class="headerlink" href="#tasktype-1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="p">[</span><span class="n">TaskType</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga026844c14ab62f42a2e19b54d622609b)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Enumerates task types.</p>
<p>These enumerations are used for configuring the task type.</p>
<table><thead align="left"><tr id="row183005029084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1755750180084827"><p>Enumerator</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p320665494084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1348999600084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>SHARED_TASK</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1427736936084827"><p>Tasks shared based on their priority by services</p>
</p></td></tr><tr id="row103339163084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>SINGLE_TASK</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1806013450084827"><p>Task exclusively occupied by a service</p>
</p></td></tr><tr id="row1293704136084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>SPECIFIED_TASK</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2087580924084827"><p>A specified task shared by multiple services</p>
</p></td></tr><tr id="row834461537084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>NO_TASK</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2021096930084827"><p>No task for the service. Generally, this situation does not occur.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="function-documentation">
<h2><strong>Function Documentation</strong><a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="iunknown-addref">
<h2>IUNKNOWN_AddRef()<a class="headerlink" href="#iunknown-addref" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">IUNKNOWN_AddRef</span> <span class="p">([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">iUnknown</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Increments the reference count in this <a class="reference external" href="iunknown.md">IUnknown</a>
interface.</p>
<p>This function is called in <strong>QueryInterface</strong>. Do not call this function
in the <a class="reference external" href="iunknown.md">IUnknown</a> interface. When the <strong>QueryInterface</strong>
function is re-implemented, you need to call this function in the new
<strong>QueryInterface</strong>.****</p>
<p>****The system does not provide a lock to protect functions. Therefore,
you need to re-implement functions if multiple developers are using
them. ****</p>
<p><strong>Parameters:</strong></p>
</div>
<div class="section" id="iunknown-queryinterface">
<h2>IUNKNOWN_QueryInterface()<a class="headerlink" href="#iunknown-queryinterface" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">IUNKNOWN_QueryInterface</span> <span class="p">([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">iUnknown</span><span class="p">,</span> <span class="nb">int</span> <span class="n">ver</span><span class="p">,</span> <span class="n">void</span> <span class="o">**</span> <span class="n">target</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Queries the <a class="reference external" href="iunknown.md">IUnknown</a> interfaces of a specified version
(downcasting).</p>
<p>After obtaining the <a class="reference external" href="iunknown.md">IUnknown</a> interface object, the
function caller uses <strong>QueryInterface</strong> to convert the object to the
required subclass type. The system converts
<a class="reference external" href="samgr.md#ga13dae059206df8d2d9b9b42e694b3f9c">DEFAULT_VERSION</a> into
the subclass type required by the caller. If the type conversion
requirements cannot be met, you need to re-implement this function.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row943782988084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1848983872084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p646625709084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row873292132084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>iUnknown</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the IUnknown interface.</p>
</td></tr><tr id="row621519575084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>version</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the version of the IUnknown interface object to be converted.</p>
</td></tr><tr id="row1285357531084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>target</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the IUnknown subclass type required by the caller. This is an
output parameter.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>EC_SUCCESS</strong> if the conversion is successful; returns other
error codes if the conversion fails.</p>
</div>
<div class="section" id="iunknown-release">
<h2>IUNKNOWN_Release()<a class="headerlink" href="#iunknown-release" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">IUNKNOWN_Release</span> <span class="p">([</span><span class="n">IUnknown</span><span class="p">](</span><span class="n">iunknown</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">iUnknown</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Releases a reference to an <a class="reference external" href="iunknown.md">IUnknown</a> interface that is
no longer used.</p>
<p>In the default implementation provided by the system, if the reference
count is <strong>0</strong>, the memory of the <a class="reference external" href="iunknown.md">IUnknown</a> interface
object and implementation object is not released. If the memory of the
<a class="reference external" href="iunknown.md">IUnknown</a> interface object and implementation object is
dynamically allocated, this function needs to be re-implemented. If the
reference count is <strong>0</strong>, the memory of the <a class="reference external" href="iunknown.md">IUnknown</a>
interface object and implementation object is released.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1851570677084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p967520095084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1896123941084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1579380233084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>iUnknown</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the IUnknown interface object.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>**** Indicates the number of <a class="reference external" href="iunknown.md">IUnknown</a> interface
objects that are referenced after the current reference is
released.********</p>
</div>
<div class="section" id="samgr-bootstrap">
<h2>SAMGR_Bootstrap()<a class="headerlink" href="#samgr-bootstrap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SAMGR_Bootstrap</span> <span class="p">(</span><span class="n">void</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Starts system services and features.</p>
<p>This function is called in the <strong>main</strong> function to start all services
when an independent process is developed. This function is called after
the dynamic library (containing system services and features) is loaded
during system running.</p>
<p><strong>Attention:</strong></p>
<p>This function cannot be called frequently. Otherwise, problems such as
repeated service startup may occur. It is recommended that this function
be called once in the <strong>main</strong> function or after the dynamic library is
loaded.</p>
</div>
<div class="section" id="samgr-getinstance">
<h2>SAMGR_GetInstance()<a class="headerlink" href="#samgr-getinstance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">SamgrLite</span><span class="p">](</span><span class="n">samgrlite</span><span class="o">.</span><span class="n">md</span><span class="p">)</span><span class="o">*</span> <span class="n">SAMGR_GetInstance</span> <span class="p">(</span><span class="n">void</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the singleton Samgr instance.</p>
<p>You need to call this function before using the Samgr capabilities.</p>
<p><strong>Returns:</strong></p>
<p>Returns the pointer to the singleton instance
<a class="reference external" href="samgrlite.md">SamgrLite</a>.</p>
</div>
<div class="section" id="samgr-sendrequest">
<h2>SAMGR_SendRequest()<a class="headerlink" href="#samgr-sendrequest" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="n">SAMGR_SendRequest</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">identity</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">request</span><span class="p">,</span> <span class="p">[</span><span class="n">Handler</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga5e13d943cc6a87a5c99fe604f3bc01e4) handler )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends a request to a service or feature of a specified identity.</p>
<p>This function is called by a service to send messages to its own
features through the asynchronous function of
<a class="reference external" href="iunknown.md">IUnknown</a>.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row325528906084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1506535060084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1220123526084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1598926254084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>identity</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the ID of the feature or service that processes
the message.</p>
</td></tr><tr id="row219620400084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>request</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the request.</p>
</td></tr><tr id="row685586445084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>handler</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the function handling the response. If the value is NULL, no
response is required.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>EC_SUCCESS</strong> if the request is sent successfully; returns
other error codes if the request fails to be sent. The caller needs to
release the memory applied in the request.</p>
</div>
<div class="section" id="samgr-sendresponse">
<h2>SAMGR_SendResponse()<a class="headerlink" href="#samgr-sendresponse" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="n">SAMGR_SendResponse</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">request</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Response</span><span class="p">](</span><span class="n">response</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">response</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends a response after processing a request.</p>
<p>This function is called to send a response after processing a request by
<strong>MessageHandle</strong> of a service or <strong>OnMessage</strong> of a feature.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row985556219084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1662946455084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1059543708084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1619747852084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>request</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the original request.</p>
</td></tr><tr id="row1647232201084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>response</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the response content.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>EC_SUCCESS</strong> if the response is sent successfully; returns
other error codes if the response fails to be sent.</p>
<p><strong>Attention:</strong></p>
<ul class="simple">
<li><p>This function can be called only in <strong>MessageHandle</strong> or
<strong>OnMessage</strong>.</p></li>
<li><p>The request must be the original one passed from <strong>MessageHandle</strong> or
<strong>OnMessage</strong>. Otherwise, a memory exception occurs.</p></li>
<li><p>When the caller sends a request, the <strong>handler</strong> callback function
must be carried.</p></li>
<li><p>The response is sent to the message queue of the service to which the
requester belongs for processing. Therefore, the requester should
wait for the response in non-blocking mode.</p></li>
</ul>
</div>
<div class="section" id="samgr-sendresponsebyidentity">
<h2>SAMGR_SendResponseByIdentity()<a class="headerlink" href="#samgr-sendresponsebyidentity" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="n">SAMGR_SendResponseByIdentity</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="nb">id</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">request</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Response</span><span class="p">](</span><span class="n">response</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">response</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends a response to a specified service or feature after processing the
original request. (Customized function for <strong>bootstrap</strong>)</p>
<p>This function is called to send a response after processing a request by
<strong>MessageHandle</strong> of a service or <strong>OnMessage</strong> of a feature. This
function can be customized to implement phased startup of different
types of services.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row71401478084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1223550055084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1180949390084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row641217016084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>id</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the ID of a service or feature. The response is
sent to the thread of the service or feature for processing.</p>
</td></tr><tr id="row22852660084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>request</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the original request.</p>
</td></tr><tr id="row644844266084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>response</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the response content.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>EC_SUCCESS</strong> if the response is sent successfully; returns
other error codes if the response fails to be sent.</p>
<p><strong>Attention:</strong></p>
<ul class="simple">
<li><p>This function can be called only in <strong>MessageHandle</strong> or
<strong>OnMessage</strong>.</p></li>
<li><p>The request must be the original one passed from <strong>MessageHandle</strong> or
<strong>OnMessage</strong>. Otherwise, a memory exception occurs.</p></li>
<li><p>When the caller sends a request, the <strong>handler</strong> callback function
must be carried.</p></li>
<li><p>The response is sent to the message queue of a specified ID for
processing. Therefore, wait for the response in non-blocking mode.</p></li>
</ul>
</div>
<div class="section" id="samgr-sendshareddirectrequest">
<h2>SAMGR_SendSharedDirectRequest()<a class="headerlink" href="#samgr-sendshareddirectrequest" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="n">SAMGR_SendSharedDirectRequest</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="nb">id</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">req</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Response</span><span class="p">](</span><span class="n">response</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">resp</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">**</span> <span class="n">ref</span><span class="p">,</span> <span class="p">[</span><span class="n">Handler</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga5e13d943cc6a87a5c99fe604f3bc01e4) handler )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends a request and response of a caller to the feature thread. The
handler is directly called to process the request and response without
using the message processing functions. (Customized function for the
broadcast service)</p>
<p>This function is used to publish topics for the
<a class="reference external" href="broadcast.md">Broadcast</a> service to broadcast messages. The value of
reference counting is incremented by one each time this function is
called.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row970307468084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p84370070084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1184348500084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row29696998084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>id</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the IDs of services or features, to which the
request and response are sent.</p>
</td></tr><tr id="row703292607084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>request</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the request.</p>
</td></tr><tr id="row732971693084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>resp</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the response.</p>
</td></tr><tr id="row1270172204084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>ref</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the reference counting.</p>
</td></tr><tr id="row1485932502084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>handler</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the function for handling the request and response. This
parameter cannot be NULL.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns <strong>EC_SUCCESS</strong> if the request and response are sent
successfully; returns other error codes if the request and response fail
to be sent.</p>
<p><strong>Attention:</strong></p>
<ul class="simple">
<li><p>Ensure that the thread specified by <strong>identity</strong> processes the
message after all messages are sent. Common practice: Add a lock
before sending a request and add the same lock during processing.</p></li>
<li><p>If <strong>NULL</strong> is returned, the caller needs to release the memory of
the request and response.</p></li>
<li><p>If the response changes each time when a request is sent, ensure that
the response will not be released. (Set <strong>len</strong> to <strong>0</strong>, the
<strong>data</strong> of response will be the resident memory.)</p></li>
</ul>
</div>
<div class="section" id="samgr-sendsharedrequest">
<h2>SAMGR_SendSharedRequest()<a class="headerlink" href="#samgr-sendsharedrequest" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint32</span><span class="o">*</span> <span class="n">SAMGR_SendSharedRequest</span> <span class="p">(</span><span class="n">const</span> <span class="p">[</span><span class="n">Identity</span><span class="p">](</span><span class="n">identity</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">identity</span><span class="p">,</span> <span class="n">const</span> <span class="p">[</span><span class="n">Request</span><span class="p">](</span><span class="n">request</span><span class="o">.</span><span class="n">md</span><span class="p">)</span> <span class="o">*</span> <span class="n">request</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span> <span class="n">token</span><span class="p">,</span> <span class="p">[</span><span class="n">Handler</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga5e13d943cc6a87a5c99fe604f3bc01e4) handler )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Sends a request to multiple services or features to save memory.</p>
<p>This function is used to publish topics for the
<a class="reference external" href="broadcast.md">Broadcast</a> service to broadcast messages.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row424898449084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1182177316084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p910411564084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row687559011084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>identity</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the IDs of services or features, to which
requests are sent.</p>
</td></tr><tr id="row1717368813084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>request</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the request.</p>
</td></tr><tr id="row1523982061084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>token</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to reference counting.</p>
</td></tr><tr id="row1599203830084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>handler</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the function handling the response. If the value is NULL, no
response is required.</p>
</td></tr></tbody></table><p><strong>Attention:</strong></p>
<ul class="simple">
<li><p>Ensure that the thread specified by <strong>identity</strong> processes the
message after all messages are sent. Common practice: Add a lock
before sending a request and add the same lock during processing.</p></li>
<li><p>If <strong>NULL</strong> is returned, the caller needs to release the memory of
the request.</p></li>
</ul>
</div>
<div class="section" id="vector-add">
<h2>VECTOR_Add()<a class="headerlink" href="#vector-add" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span> <span class="n">VECTOR_Add</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector, void * element )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Adds an element to the vector.</p>
<p>This function is used to add an element to the vector.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row106012767084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1288498749084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1958028114084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row344942262084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr><tr id="row266141007084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>element</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the element to add.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the location of the element to be added if the operation is
successful; returns <strong>INVALID_INDEX</strong> if the operation fails.</p>
</div>
<div class="section" id="vector-at">
<h2>VECTOR_At()<a class="headerlink" href="#vector-at" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="o">*</span> <span class="n">VECTOR_At</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector, int16 index )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the element at a specified position.</p>
<p>This function is used to obtain the element at a specified position.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row615753016084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p384100012084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1292591324084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1511351171084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr><tr id="row1520774900084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>index</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the subscript to be obtained.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the element if obtained; returns <strong>NULL</strong> otherwise.</p>
</div>
<div class="section" id="vector-clear">
<h2>VECTOR_Clear()<a class="headerlink" href="#vector-clear" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">VECTOR_Clear</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Destruct a vector object.</p>
<p>This function is used to clear the memory applied by the vector after
the temporary vector in the stack is used.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row288637707084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p969502873084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1367456151084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1767321718084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the vector to clear.</p>
</td></tr></tbody></table></div>
<div class="section" id="vector-find">
<h2>VECTOR_Find()<a class="headerlink" href="#vector-find" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span> <span class="n">VECTOR_Find</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector, const void * element )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Checks the position of an element.</p>
<p>This function is used to check whether a vector has a specified element.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1034310467084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1977692582084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p106229066084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1849115575084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr><tr id="row1121108377084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>element</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the element to be checked.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the index of the element that is not less than 0 if the check is
successful; returns <strong>INVALID_INDEX</strong> if the check fails.</p>
</div>
<div class="section" id="vector-findbykey">
<h2>VECTOR_FindByKey()<a class="headerlink" href="#vector-findbykey" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span> <span class="n">VECTOR_FindByKey</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector, const void * key )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Checks the position of the element with a specified key.</p>
<p>This function is used to check an element based on its key value.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row1557712763084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1707346909084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1321658454084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1554643263084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr><tr id="row1391553920084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>key</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the key value of the element to check.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the index of the key element that is not less than 0 if the
check is successful; returns <strong>INVALID_INDEX</strong> if the check fails.</p>
</div>
<div class="section" id="vector-make">
<h2>VECTOR_Make()<a class="headerlink" href="#vector-make" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) VECTOR_Make (VECTOR_Key key, VECTOR_Compare compare )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Creates or initializes a vector object.</p>
<p>This function is used to create or initialize a vector object.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row877268616084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p751673413084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1150647680084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row848962605084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>key</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the function provided by users for converting
data elements into key values. If this function is not provided, set it
to NULL.</p>
</td></tr><tr id="row2124002445084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>compare</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the function for comparing the sizes of two
elements. If this function is not provided, set it to NULL.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the vector right value object.</p>
</div>
<div class="section" id="vector-num">
<h2>VECTOR_Num()<a class="headerlink" href="#vector-num" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span> <span class="n">VECTOR_Num</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the number of valid elements in the vector, excluding elements
that have been set to <strong>NULL</strong>.</p>
<p>This function is used to check whether the number of elements reaches
the upper limit.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row818903856084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p700847165084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p60130186084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1047826577084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the top - free value of the vector, which indicates the number
of non-null elements.</p>
</div>
<div class="section" id="vector-size">
<h2>VECTOR_Size()<a class="headerlink" href="#vector-size" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span> <span class="n">VECTOR_Size</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector)</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Obtains the number of elements in the vector, including elements that
have been set to <strong>NULL</strong>.</p>
<p>This function is used for full traversal.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row397149397084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p245713471084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1196646563084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row2112891313084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr></tbody></table><p><strong>Returns:</strong></p>
<p>Returns the top value of the vector, which indicates the number of
elements.</p>
</div>
<div class="section" id="vector-swap">
<h2>VECTOR_Swap()<a class="headerlink" href="#vector-swap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="o">*</span> <span class="n">VECTOR_Swap</span> <span class="p">([</span><span class="n">Vector</span><span class="p">](</span><span class="n">samgr</span><span class="o">.</span><span class="n">md</span><span class="c1">#ga255ca81c214b8a94a90f786ceef94514) * vector, int16 index, void * element )</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Swaps the element at a specified position in a vector with another
element.</p>
<p>This function is used to clear, sort, or update elements in the vector.</p>
<p><strong>Parameters:</strong></p>
<table><thead align="left"><tr id="row169991328084827"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p994559027084827"><p>Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p736047863084827"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row721113098084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>vector</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the this pointer to the vector.</p>
</td></tr><tr id="row91456032084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>index</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the position of the element to be swapped.</p>
</td></tr><tr id="row1744087056084827"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p>element</p>
</td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p>Indicates the pointer to the new element.</p>
</td></tr></tbody></table><p><strong>Attention:</strong></p>
<p>Before using this function, ensure that the index is valid. You can use
<strong>VECTOR_Size</strong> to obtain the upper limit of the index.</p>
<p><strong>Returns:</strong></p>
<p>Returns the original element if the swapping is successful; returns
<strong>NULL</strong> if the swapping fails.</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="samgr.md#ga1432f30c136d14bc00414d883d8be3bd">VECTOR_Size</a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/docs-en/api/api-SmartVision-Devices/samgr.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>