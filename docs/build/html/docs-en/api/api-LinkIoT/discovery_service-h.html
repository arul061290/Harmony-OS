
<!DOCTYPE html>

<html lang="y">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>discovery_service.h &#8212; Harmony 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="discovery-service-h">
<h1>discovery_service.h<a class="headerlink" href="#discovery-service-h" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><strong>Related Modules:</strong></p>
<p><a class="reference external" href="softbus.md">Softbus</a></p>
<p><strong>Description:</strong></p>
<p>Declares unified device service publishing interfaces.</p>
<p>This file provides capabilities related to device service publishing,
including publishing services, unpublishing services, and setting device
parameters. After multiple nearby devices are discovered and networked,
these interfaces can be used to perform service publishing-related
operations.</p>
<p><strong>Since:</strong></p>
<p>1.0</p>
<p><strong>Version:</strong></p>
<p>1.0</p>
</div>
<div class="section" id="summary">
<h2><strong>Summary</strong><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row907744138090253"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1977245706090253"><p>Data Structure Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p674994225090253"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row773743802090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1868199937090253"><p>PublishInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p505311872090253"><p>Defines service provisioning information sent to a discovering device.</p>
</p></td></tr><tr id="row2009657402090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2081744149090253"><p>CapabilityMap</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1062287069090253"><p>Defines the mapping between supported capabilities and bitmaps.</p>
</p></td></tr><tr id="row1145479363090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p607076055090253"><p>DeviceMap</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p306102614090253"><p>Defines the mappings between the device type enumerations and device
type names.</p>
</p></td></tr><tr id="row1827597504090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p329295987090253"><p>IPublishCallback</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1390193299090253"><p>Defines the callbacks for successful and failed service publishing.</p>
</p></td></tr><tr id="row1380029524090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1783813532090253"><p>CommonDeviceInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1238567183090253"><p>Defines the type and content of a device to set.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1297238380090253"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p660569662090253"><p>Typedef Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p986399404090253"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row143389890090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1158371923090253"><p>PublishInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1000368490090253"><p>typedef struct PublishInfo</p>
</p><p id="p162031656090253"><p>Defines service provisioning information sent to a discovering device.</p>
</p></td></tr><tr id="row168471488090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1456119219090253"><p>DeviceType</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2146456532090253"><p>typedef enum DeviceTypeEnum</p>
</p><p id="p11239047090253"><p>Enumerates device types.</p>
</p></td></tr><tr id="row2058637896090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1722871345090253"><p>IPublishCallback</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p764741101090253"><p>typedef struct IPublishCallback</p>
</p><p id="p1539713823090253"><p>Defines the callbacks for successful and failed service publishing.</p>
</p></td></tr><tr id="row1475899461090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1016434066090253"><p>CommonDeviceInfo</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p764160030090253"><p>typedef struct CommonDeviceInfo</p>
</p><p id="p1028410221090253"><p>Defines the type and content of a device to set.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="enumerations">
<h2>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1886292022090253"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p42210489090253"><p>Enumeration Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1551695649090253"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row573379789090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p522457574090253"><p>ExchanageMedium { AUTO = 0, BLE = 1, COAP = 2, USB = 3 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p645407247090253"><p>Enumerates media, such as Bluetooth, Wi-Fi, and USB, used for publishing
services.</p>
</p></td></tr><tr id="row202308569090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p236723361090253"><p>ExchangeFre { LOW = 0, MID = 1, HIGH = 2, SUPER_HIGH = 3 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1679419102090253"><p>Enumerates frequencies for publishing services. This enumeration is
involved only in Bluetooth and is not supported currently.</p>
</p></td></tr><tr id="row1675518825090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p551680741090253"><p>DiscoverMode { DISCOVER_MODE_PASSIVE = 0x55, DISCOVER_MODE_ACTIVE = 0xAA
}</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p908450638090253"><p>Enumerates the modes in which services are published. The publishing
service supports the passive mode. Lite devices support the passive mode
only.</p>
</p></td></tr><tr id="row1759950538090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1001982808090253"><p>PublishFailReason { PUBLISH_FAIL_REASON_NOT_SUPPORT_MEDIUM = 1,
PUBLISH_FAIL_REASON_PARAMETER_INVALID = 2, PUBLISH_FAIL_REASON_UNKNOWN =
0xFF }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p698021068090253"><p>Enumerates failure reasons for publishing services.</p>
</p></td></tr><tr id="row1692775405090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1527768056090253"><p>DataBitMap { HICALL_CAPABILITY_BITMAP = 0, PROFILE_CAPABILITY_BITMAP =
1, HOMEVISIONPIC_CAPABILITY_BITMAP = 2, CASTPLUS_CAPABILITY_BITMAP,
AA_CAPABILITY_BITMAP, DVKIT_CAPABILITY_BITMAP, DDMP_CAPABILITY_BITMAP }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1604333221090253"><p>Enumerates supported capabilities published by a device.</p>
</p></td></tr><tr id="row439418683090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2000678037090253"><p>DeviceTypeEnum { UNKOWN = 0x00, PHONE = 0x0E, PAD = 0x11, TV = 0x9C, PC
= 0x0C, AUDIO = 0x0A, CAR = 0x83, L0 = 0xF1, L1 = 0xF2 }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1798466826090253"><p>Enumerates device types.</p>
</p></td></tr><tr id="row2126160349090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1402410320090253"><p>CommonDeviceKey { COMM_DEVICE_KEY_DEVID = 0, COMM_DEVICE_KEY_DEVTYPE =
1, COMM_DEVICE_KEY_DEVNAME = 2, COMM_DEVICE_KEY_MAX }</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p783396070090253"><p>Enumerates device information, such as its ID, type, and name.</p>
</p></td></tr></tbody></table></div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table><thead align="left"><tr id="row1969072315090253"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p59022275090253"><p>Function Name</p>
</p></th><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1430344193090253"><p>Description</p>
</p></th></tr></thead><tbody><tr id="row1762120235090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p539797665090253"><p>PublishService (const char <em>moduleName, const struct PublishInfo</em>info,
const struct IPublishCallback *cb)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p849549818090253"><p>int</p>
</p><p id="p654805535090253"><p>Publishes a service to the discovering device in the LAN.</p>
</p></td></tr><tr id="row410402513090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1906723982090253"><p>UnPublishService (const char *moduleName, int publishId)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1055214080090253"><p>int</p>
</p><p id="p900719817090253"><p>Unpublishes a service based on the publicId and moduleName.</p>
</p></td></tr><tr id="row799413974090253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p858928627090253"><p>SetCommonDeviceInfo (const struct CommonDeviceInfo *devInfo, unsigned
int num)</p>
</p></td><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p493724513090253"><p>int</p>
</p><p id="p264921489090253"><p>Sets common device information, such as its ID, type, and name.</p>
</p></td></tr></tbody></table></div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Harmony</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arul.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/docs-en/api/api-LinkIoT/discovery_service-h.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>